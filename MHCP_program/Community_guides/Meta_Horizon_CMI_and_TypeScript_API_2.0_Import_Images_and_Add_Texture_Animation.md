# Meta Horizon CMI & TypeScript API 2.0: Import Images & Add Texture Animation

  
## Introduction

  
#### Creator Skill Level

 All levels  
#### Recommended Prerequisite Background Knowledge

 No prior skills are necessary, but knowing a little about Blender and TypeScript
will be helpful.  
#### Description

 Learn how to bring your virtual worlds to life using custom animations and
visual effects. You’ll discover how to create animated instruction boards, add custom
VFX, and even make an animated fireplace! Your creativity is the only limit. We will start with the basics, such as importing Custom Model Import (CMI)
planes with image textures. Then, we will explore various texture options, including
transparency methods and importing UIO textures for animation. You’ll also learn how to use two prewritten scripts to add animation and
interactivity, even if you have no prior experience with Typescript.  
...
...
# Meta Horizon CMI & TypeScript API 2.0: Import Images & Add Texture Animation

  
## Introduction
...
#### Learning Objectives

 By reading and reviewing this written guide you will be able to:
• Import CMI images with or without transparency.
• Use and or write typescript code to create animated textures.
• Billboard an animated texture to create a unique 3D-like effect.

  
...
...
# Meta Horizon CMI & TypeScript API 2.0: Import Images & Add Texture Animation

  
## Introduction

  
#### Creator Skill Level
 ...
#### Recommended Prerequisite Background Knowledge
...
#### Description
...
#### Learning Objectives
...
...
# Meta Horizon CMI & TypeScript API 2.0: Import Images & Add Texture Animation
...
## Image Imports
...
### Image Importing Cheat Sheet


• Image.fbx (Standard Image)
  • Upload with file named “Image_BR.png”
  • Named “Image” in Blender
• Image.fbx (Metal Image)
  • Upload with files named:
   • “Image_BR.png”
   • “Image_MEO.png”
  • Named “Image” in Blender
• UnlitImage.fbx
  • Upload with file named “Image_B.png”
  • Named “Image_Unlit” in Blender
• UnlitBlendImage.fbx
  • Upload with file named “Image_BA.png”
  • Named “Image_Blend” in Blender
• TransparentImage.fbx
  • Upload with files named:
   • “Image_BR.png”
   • “Image_MESA.png”
  • Named “Image_Transparent” in Blender
• MaskedImage.fbx
...
...
# Meta Horizon CMI & TypeScript API 2.0: Import Images & Add Texture Animation
...
## Image Imports
...
### Image Importing Cheat Sheet
...
  • Upload with file named “Image_BA.png”
  • Named “Image_Masked” in Blender
• UIOImage.fbx (Animated Image)
  • Upload with file named “Image_BA.png”
  • Named “Image_UIO” in Blend
...
...
# Meta Horizon CMI & TypeScript API 2.0: Import Images & Add Texture Animation
...
## Image Imports

 When bringing in materials you are unfamiliar with, the cheat sheet below is a
quick way to look up the naming conventions used for importing the most common
material types. If you are new to Custom Model Imports (CMI), don’t worry, we cover how these
work in the next couple of sections. The long and short of it is that in Blender,
the material must have a name that parallels the name of the texture PNG you
upload with. A simple example would be a mesh, with a material named “MyTexture” in
Blender, and uploaded with a PNG named “MyTexture_BR.png”  
### Image Importing Cheat Sheet
...
...
# Meta Horizon CMI & TypeScript API 2.0: Import Images & Add Texture Animation
...
## Texture Swapping
...
### How to Upload PNG Textures

 At the time of writing (June 2024), uploading PNG textures can only be done
through the Horizon Desktop Editor. The name of the image does not matter, but the
image must be a PNG. In the images below you can see screenshots of the Meta Horizon Worlds desktop
editor. From the “Assets” tab you can click “Texture” and then in the right
image, you can see that you are able to upload multiple PNG images. We recommend
first creating a folder to upload and store these images, it is much harder to move
...
...
# Meta Horizon CMI & TypeScript API 2.0: Import Images & Add Texture Animation
...
## Texture Swapping
...
### How to Upload PNG Textures
...
them after they have been imported. ![22 Horizon - Select Folder Add New Texture.png](https://scontent-dfw5-1.xx.fbcdn.net/v/t39.2365-6/452968581_512510194620270_3962294350470992074_n.png?_nc_cat=110&ccb=1-7&_nc_sid=e280be&_nc_ohc=JTsJR7-6mlYQ7kNvwFFVq7a&_nc_oc=Adm27QiGSwGvrMSPJ3Q2IyipW2CPxJghDCH3NnFT_6dQ0ezpX4LDXvpCfdAlh5YdG9Q&_nc_zt=14&_nc_ht=scontent-d...
...
# Meta Horizon CMI & TypeScript API 2.0: Import Images & Add Texture Animation
...
## Texture Swapping
...
### How to Upload PNG Textures
...
 ![24 Horizon - Import All PNGs.png](https://scontent-dfw5-1.xx.fbcdn.net/v/t39.2365-6/452653578_512510044620285_6379585956399160296_n.png?_nc_cat=103&ccb=1-7&_nc_sid=e280be&_nc_ohc=NQGIDvO86_sQ7kNvwFZkos5&_nc_oc=Adn4n-n9vMvj6xe0Ab9SkFMahFFlx0VSiU7aU9ujaSm3MR70w6fP2T0VYBJuZXpc5aE&_nc_zt=14&_nc_ht=scontent-dfw5-1.xx&_nc_gid=DLLF4N4...
...
# Meta Horizon CMI & TypeScript API 2.0: Import Images & Add Texture Animation
...
## Texture Swapping
...
### How to Swap Textures

 Here is a short example of how to swap textures, noting that this only works on
CMI meshes uploaded with a UIO material/texture.  
```
const texture = this.props.texture.as(TextureAsset);

if (texture) {
this.entity.as(MeshEntity)?.setTexture(texture);
```
  
...
...
# Meta Horizon CMI & TypeScript API 2.0: Import Images & Add Texture Animation
...
## Texture Swapping

 If you are already familiar with CMI and Typescript, this brief summary shows
you how to upload texture assets, which can be referenced from your Typescript
“props” as PropTypes.Asset, and cast .as(TextureAsset). Don’t worry if this is your first time, we will be diving deep into both of
these topics throughout.  
### How to Upload PNG Textures
...
### How to Swap Textures
...
...
# Meta Horizon CMI & TypeScript API 2.0: Import Images & Add Texture Animation
...
## Step 1: Creating FBX Files
...
### Various Material Types
...
#### Standard Image


• Basic texture, nothing special, and is easy to use.

  
#### MEO Image


• Using a secondary PNG, the RGB channels correspond to Metal, Emission, and
Occlusion (MEO). Notice that if E & O are set to 0 the texture is not visible. Try
playing with these values to get the exact look you are going for.

  
#### Unlit Image


• Light and shadows are not applied.

  
#### Unlit Blend Image


• Unlit, but supports transparency using the alpha channel of the PNG.

  
...
...
# Meta Horizon CMI & TypeScript API 2.0: Import Images & Add Texture Animation
...
## Step 1: Creating FBX Files
...
### Various Material Types
...
#### Transparent Image


• Using a secondary PNG the RGBA channels correspond to Metal, Emission, Specular,
Alpha (MESA). This means you can get a metallic that is also partially
transparent! It also means that you have to make sure the alpha channel correctly masks
out your texture, in this case, it does not, hence the partially transparent
square.

  
...
...
# Meta Horizon CMI & TypeScript API 2.0: Import Images & Add Texture Animation
...
## Step 1: Creating FBX Files
...
### Various Material Types
...
#### Masked Image


• Uses the alpha channel of the PNG to mask out the image. Note that this is
masking, not transparency, partially transparent pixels will be dithered, meaning
every other pixel will be opaque or clear. For real transparency use Unlit Blend or
Transparent material types.
...
...
# Meta Horizon CMI & TypeScript API 2.0: Import Images & Add Texture Animation
...
## Step 1: Creating FBX Files
...
### Various Material Types
...
#### Masked Image
...
 This is an example of dithering. ![pasted-image.png](https://scontent-dfw5-2.xx.fbcdn.net/v/t39.2365-6/452704315_512510077953615_83611763970977192_n.png?_nc_cat=107&ccb=1-7&_nc_sid=e280be&_nc_ohc=f8kqcm_j_oIQ7kNvwHR8CTD&_nc_oc=AdnMJgCcdqfgMGDc6mev4FI533-v-TEfzplgzOYswgBCd4KakSOjQOelbPbedy0DJnw&_nc_zt=14&_nc_ht=scontent-dfw5-2.xx...
...
# Meta Horizon CMI & TypeScript API 2.0: Import Images & Add Texture Animation
...
## Step 1: Creating FBX Files
...
### Various Material Types
...
#### UIO Image:


• User Interface Optimized (UIO) images can be animated, meaning to have their
textures swapped out. They are also rendered in more detail than the other texture
types to perform better as user interfaces, ie. for use in high touch point
areas.

  
...
...
# Meta Horizon CMI & TypeScript API 2.0: Import Images & Add Texture Animation
...
## Step 1: Creating FBX Files
...
### Various Material Types
...
#### Creating Secondary PNGs

 Transparent and MEO images will need to be uploaded with a secondary PNG, named
Image_MESA.png, or Image_MEO.png respectively. You can use a variety of tools to
make these PNGs, we won’t be going deep on that subject in this Written Guide,
...
...
# Meta Horizon CMI & TypeScript API 2.0: Import Images & Add Texture Animation
...
## Step 1: Creating FBX Files
...
### Various Material Types
...
#### Creating Secondary PNGs
...
but we will look at a simple example using Blender. Start by opening the “Texture Paint” workspace: ![Screenshot 2024-04-19 at 8.53.37 AM.png](https://scontent-dfw5-2.xx.fbcdn.net/v/t39.2365-6/452907674_512510061286950_115269541411199578_n.png?_nc_cat=102&ccb=1-7&_nc_sid=e280be&_nc_ohc=Avwpp0DH2wcQ7kNvwGKS53G&_nc_oc=AdlzuD2KxMgSB-bKtHMyYgsr1DOw2lZUoOh4jeXMW5BZ...
...
# Meta Horizon CMI & TypeScript API 2.0: Import Images & Add Texture Animation
...
## Step 1: Creating FBX Files
...
### Various Material Types
...
#### Creating Secondary PNGs
...
 Then click “New” to create a new image, and from there select the Color
...
...
# Meta Horizon CMI & TypeScript API 2.0: Import Images & Add Texture Animation
...
## Step 1: Creating FBX Files
...
### Various Material Types
...
#### Creating Secondary PNGs
...
property. ![Screenshot 2024-04-19 at 8.56.04 AM.png](https://scontent-dfw5-2.xx.fbcdn.net/v/t39.2365-6/452577881_512510057953617_5245386781112144432_n.png?_nc_cat=100&ccb=1-7&_nc_sid=e280be&_nc_ohc=AwjSdr75yI8Q7kNvwHAnL9R&_nc_oc=AdkKUoTjhkWRSK5RpXEn5esOkKmG0gM78HnHHHZYDuW0QVg3VAtyCe7PHKzWSaVr...
...
# Meta Horizon CMI & TypeScript API 2.0: Import Images & Add Texture Animation
...
## Step 1: Creating FBX Files
...
### Various Material Types
...
#### Creating Secondary PNGs
...
![Screenshot 2024-04-19 at 8.56.47 AM.png](https://scontent-dfw5-1.xx.fbcdn.net/v/t39.2365-6/452652809_512510064620283_8540244349186137340_n.png?_nc_cat=104&ccb=1-7&_nc_sid=e280be&_nc_ohc=NgQymo0Li10Q7kNvwFCDn9L&_nc_oc=Admi3U7SdbEZdnVwNTTpWkeiIQv2yQJIexqbdrsVeSMh0ZWNeMTRSy_mFyXxqKitUhs&_nc_zt=14&_nc_ht=sconte...
...
# Meta Horizon CMI & TypeScript API 2.0: Import Images & Add Texture Animation
...
## Step 1: Creating FBX Files
...
### Various Material Types
...
#### Creating Secondary PNGs
...
 Then select RGB at the bottom, you can then type in the exact values you want
...
...
# Meta Horizon CMI & TypeScript API 2.0: Import Images & Add Texture Animation
...
## Step 1: Creating FBX Files
...
### Various Material Types
...
#### Creating Secondary PNGs
...
for the MEO or MESA channels. In this case, I have set all channels to 50%. ![Screenshot 2024-04-19 at 8.57.03 AM.png](https://scontent-dfw5-1.xx.fbcdn.net/v/t39.2365-6/452916207_512510054620284_1744802443120394456_n.png?_nc_cat=101&ccb=1-7&_nc_sid=e280be&_nc_ohc=ZbkR4wKIJKAQ7kNvwF1qLcu&_nc_oc=AdmqN1aHF6JCBfrdmBciNho6BgU6t5qwOI9QaQB1hhewKe...
...
# Meta Horizon CMI & TypeScript API 2.0: Import Images & Add Texture Animation
...
## Step 1: Creating FBX Files
...
### Various Material Types
...
#### Creating Secondary PNGs
...
![Screenshot 2024-04-19 at 8.58.00 AM.png](https://scontent-dfw5-1.xx.fbcdn.net/v/t39.2365-6/452652384_512510051286951_6288220246956715927_n.png?_nc_cat=105&ccb=1-7&_nc_sid=e280be&_nc_ohc=5JPSI3Ax1WIQ7kNvwE2Zz04&_nc_oc=AdnMvWFGvgEmbJPD3fi0xsXZ_4DfYawul0AujmbRdgQtPg1xkrBYJSb625TRLsy9m3A&_nc_zt=14&_nc_ht=sconte...
...
# Meta Horizon CMI & TypeScript API 2.0: Import Images & Add Texture Animation
...
## Step 1: Creating FBX Files
...
### Various Material Types
...
#### Creating Secondary PNGs
...
 Remember that RGB correlates to MEO. For example, red is how metallic, green is
emission, and blue is occlusion, and the same is true for MESA.
|  |
|  |
| Red | Metal | Metal |
| Green | Emission | Emission |
| Blue | Occlusion | Specular |
| Alpha |   | Alpha |

 Next, to finish creating the image, we can click “OK” (in some versions of
Blender the OK button has a different name). Then click Image>Save As> and save the
image as either Image_MEO.png or Image_MESA.png depending on your intended use
...
...
# Meta Horizon CMI & TypeScript API 2.0: Import Images & Add Texture Animation
...
## Step 1: Creating FBX Files
...
### Various Material Types
...
#### Creating Secondary PNGs
...
case. For practice, consider trying both. ![Screenshot 2024-04-19 at 8.58.28 AM.png](https://scontent-dfw5-1.xx.fbcdn.net/v/t39.2365-6/452413439_512510047953618_4137326271119080615_n.png?_nc_cat=101&ccb=1-7&_nc_sid=e280be&_nc_ohc=8T6vsJjk240Q7kNvwHScQo4&_nc_oc=AdkbaihuZbkYGAXeuOjNqKyW-uRlrNaOSsDWMURbcJoWUcLvQeXwzmvacRFvYsYVJ...
...
# Meta Horizon CMI & TypeScript API 2.0: Import Images & Add Texture Animation
...
## Step 1: Creating FBX Files
...
### Various Material Types
...
#### Creating Secondary PNGs
...
![Screenshot 2024-04-19 at 8.58.42 AM.png](https://scontent-dfw5-2.xx.fbcdn.net/v/t39.2365-6/452929981_512510041286952_8941302965582273418_n.png?_nc_cat=106&ccb=1-7&_nc_sid=e280be&_nc_ohc=XK1uay2lM5IQ7kNvwErqFWC&_nc_oc=AdmVNOOSp_ICwly-yuZATDuv3_mFe0szweZbnh1TnOQofFI_bnmV57WFR1J9ZRBTY9A&_nc_zt=14&_nc_ht...
...
# Meta Horizon CMI & TypeScript API 2.0: Import Images & Add Texture Animation
...
## Step 1: Creating FBX Files
...
### Various Material Types
...
#### Creating Secondary PNGs
...
 You have now created a secondary PNG, great work! Sometimes when creating transparent images you don’t want them to be evenly
transparent across the entire texture. In that case, you will want to consider using
the “Erase Alpha” or “Add Alpha” brush tools. You can adjust the radius and strength to determine how wide and how much of the
alpha you want to erase. I erased three lines in the secondary image, using
100%, 50%, and 25% strength from left to right. Because the image was already half
...
...
# Meta Horizon CMI & TypeScript API 2.0: Import Images & Add Texture Animation
...
## Step 1: Creating FBX Files
...
### Various Material Types
...
#### Creating Secondary PNGs
...
transparent, 100% and 50% had the same effect. ![Screenshot 2024-04-19 at 9.17.39 AM.png](https://scontent-dfw5-3.xx.fbcdn.net/v/t39.2365-6/452885117_512510034620286_9198152519515217659_n.png?_nc_cat=109&ccb=1-7&_nc_sid=e280be&_nc_ohc=jyX7jzBRmxUQ7kNvwHHin1w&_nc_oc=AdlMjDLqWlgmp69GBnSHpjXECfHXmfTzKb4aEu51atHt-8KYpVEZGk_zK...
...
# Meta Horizon CMI & TypeScript API 2.0: Import Images & Add Texture Animation
...
## Step 1: Creating FBX Files
...
### Various Material Types
...
#### Creating Secondary PNGs
...
![Screenshot 2024-04-19 at 9.20.46 AM.png](https://scontent-dfw5-3.xx.fbcdn.net/v/t39.2365-6/452653014_512510031286953_1113735815860416145_n.png?_nc_cat=108&ccb=1-7&_nc_sid=e280be&_nc_ohc=zUJK5B0COhYQ7kNvwHvzcZI&_nc_oc=AdnqStiKsYRQAJO53O59pugdkIFRDJoJKHhU3zOO195rV2wPmfW1-5UY2_HEL5ThdkY&_nc_zt=14&_nc_ht=sc...
...
# Meta Horizon CMI & TypeScript API 2.0: Import Images & Add Texture Animation
...
## Step 1: Creating FBX Files
...
### Various Material Types
...
#### Mentor’s Note:

 There are a large number of software options to choose from, but if you want to
use Blender, consider opening the texture, painting over it, and then saving it
as a new PNG. Here’s a brief example of one way you might do this while
preserving transparency. Start by opening the texture, then select the saturation brush effect tool. Then
paint over your texture to make it all the same color without affecting the
...
...
# Meta Horizon CMI & TypeScript API 2.0: Import Images & Add Texture Animation
...
## Step 1: Creating FBX Files
...
### Various Material Types
...
#### Mentor’s Note:
...
alpha channel. ![Image](https://scontent-dfw5-1.xx.fbcdn.net/v/t39.2365-6/452578204_512510027953620_7672824023604347554_n.png?_nc_cat=110&ccb=1-7&_nc_sid=e280be&_nc_ohc=Tf4kEbdiVWoQ7kNvwHRGP98&_nc_oc=AdlmvG63Ipoj23mMs39o-ysjRXfIUpWzPCZ0qsaeOL0BxJRGORUSi2Z1HXGnOZkbDnY&_nc_zt=14&_nc_ht=scontent-dfw5-1.xx&_nc_gid=DLL...
...
# Meta Horizon CMI & TypeScript API 2.0: Import Images & Add Texture Animation
...
## Step 1: Creating FBX Files
...
### Various Material Types
...
#### Mentor’s Note:
...
![Screenshot 2024-04-19 at 9.26.48 AM.png](https://scontent-dfw5-1.xx.fbcdn.net/v/t39.2365-6/452653578_512509964620293_5448085797043372349_n.png?_nc_cat=101&ccb=1-7&_nc_sid=e280be&_nc_ohc=eJEw94gUBr8Q7kNvwGMfXvA&_nc_oc=AdlwkGggzqfSe4Hq6avujumjfS3f2YBO7w5fc2M1PBW_n6NB42MoPpQuj0039FMbu_4&_nc_zt=14&_nc_ht...
...
# Meta Horizon CMI & TypeScript API 2.0: Import Images & Add Texture Animation
...
## Step 1: Creating FBX Files
...
### Various Material Types
...
#### Mentor’s Note:
...
![Image](https://scontent-dfw5-1.xx.fbcdn.net/v/t39.2365-6/452518323_512509967953626_7006945869471042038_n.png?_nc_cat=101&ccb=1-7&_nc_sid=e280be&_nc_ohc=CVKaY1HwUTAQ7kNvwF7k7-s&_nc_oc=AdlzMDFvaqV2hsavMlvL3ld0sWaaiOqtthb68whqWHnXo8Dog8frCB8Lxx8OwKhFsgk&_nc_zt=14&_nc_ht=scontent-dfw5-1.xx&_nc_gid=DLLF4N4...
...
# Meta Horizon CMI & TypeScript API 2.0: Import Images & Add Texture Animation
...
## Step 1: Creating FBX Files
...
### Various Material Types
...
#### Mentor’s Note:
...
 You can then select the dump bucket tool, and adjust the color RGB values to the
MEO or MESA values you want to use. And change the color, and thus the MEO/MESA
properties of the image. Then just save the image as before, ie.
...
...
# Meta Horizon CMI & TypeScript API 2.0: Import Images & Add Texture Animation
...
## Step 1: Creating FBX Files
...
### Various Material Types
...
#### Mentor’s Note:
...
“Image_MEO.png” or “Image_MESA.png” ![Image](https://scontent-dfw5-1.xx.fbcdn.net/v/t39.2365-6/452933713_512509961286960_6507830893434825526_n.png?_nc_cat=105&ccb=1-7&_nc_sid=e280be&_nc_ohc=NFVYZHALsBIQ7kNvwFLV7Jp&_nc_oc=AdlqOjcN32gyTgCUTtVk5wZhCZu_3YD8zrop3ZKzMxEtavTa2WFWv62o21ywvCnYF58&_nc_zt=14&_nc_ht=sconte...
...
# Meta Horizon CMI & TypeScript API 2.0: Import Images & Add Texture Animation
...
## Step 1: Creating FBX Files
...
### Various Material Types
...
#### Mentor’s Note:
...
![Image](https://scontent-dfw5-2.xx.fbcdn.net/v/t39.2365-6/452652035_512509957953627_1509299483219844935_n.png?_nc_cat=102&ccb=1-7&_nc_sid=e280be&_nc_ohc=uEhdbz6wz-UQ7kNvwHUlPr7&_nc_oc=Adno5RmSDbYYtbd81_oJWHnjhyA7WGUJpPpr6GoeBgcdD92KU8-A_giMe-Izv7nIP44&_nc_zt=14&_nc_ht=scontent-dfw5-2.xx&_nc_gid=DLLF4N4...
...
# Meta Horizon CMI & TypeScript API 2.0: Import Images & Add Texture Animation
...
## Step 1: Creating FBX Files
...
### Various Material Types
...
#### Mentor’s Note:
...
![Image](https://scontent-dfw5-3.xx.fbcdn.net/v/t39.2365-6/452934280_512509947953628_7533721349325358428_n.png?_nc_cat=109&ccb=1-7&_nc_sid=e280be&_nc_ohc=4ALho9V3-acQ7kNvwEBzMNI&_nc_oc=Adn203hFl-IbdF_QNMHAWRd2q8mly02swfqL66QM_Lz-wT6vwsEmqFKoon_53Af6pug&_nc_zt=14&_nc_ht=scontent-dfw5-3.xx&_nc_gid=DLLF4N4B2cuN...
...
# Meta Horizon CMI & TypeScript API 2.0: Import Images & Add Texture Animation
...
## Step 1: Creating FBX Files
...
### Various Material Types

 In the image below you can see the various material types being applied to the
same PNG fire image. For MEO and Transparent they need to be uploaded with a
secondary file which will be seen and discussed in depth in Step 2. What we can see from these images is that four material types support
...
...
# Meta Horizon CMI & TypeScript API 2.0: Import Images & Add Texture Animation
...
## Step 1: Creating FBX Files
...
### Various Material Types
...
transparency and three do not. ![Image](https://scontent-dfw5-2.xx.fbcdn.net/v/t39.2365-6/452653333_512510071286949_6198600653867134572_n.png?_nc_cat=106&ccb=1-7&_nc_sid=e280be&_nc_ohc=JGJ2I94nT18Q7kNvwFl8Ru9&_nc_oc=AdnJjgQhVMZWpyF2EYB6VsUoD_hZXWaLkSkreI5tl0dB0OanxTY8Wfd44PxJ0S-RjtA&_nc_zt=14&_nc_ht=scontent-dfw5-2.xx&_nc_g...
...
# Meta Horizon CMI & TypeScript API 2.0: Import Images & Add Texture Animation
...
## Step 1: Creating FBX Files
...
### Various Material Types
...
 Here is a brief description of each material type:  
#### Standard Image
...
#### MEO Image
...
#### Unlit Image
...
#### Unlit Blend Image
...
#### Transparent Image
...
#### Masked Image
...
#### UIO Image:
...
#### Creating Secondary PNGs
...
#### Mentor’s Note:
...
...
# Meta Horizon CMI & TypeScript API 2.0: Import Images & Add Texture Animation
...
## Step 1: Creating FBX Files

 In the first step, we will show how to create FBX files for standard, _Masked,
and _UIO material types. The process is similar for _Unlit, _Blend, and
...
...
# Meta Horizon CMI & TypeScript API 2.0: Import Images & Add Texture Animation
...
## Step 1: Creating FBX Files
...
_Transparent. Once you have opened Blender, select and delete all items. ![01 Blender - Delete Hierarchy.png](https://scontent-dfw5-2.xx.fbcdn.net/v/t39.2365-6/452673104_512509954620294_1064153443481861995_n.png?_nc_cat=100&ccb=1-7&_nc_sid=e280be&_nc_ohc=nNI_xzweQzUQ7kNvwHSdZnf&_nc_oc=AdndyaXhJQKnvIiAJ8x8Ip-sQ_nm86v_XmcNIWv_IXst8oqaXYFpgEOGkMQzU70bVik&_nc_zt=14&_nc_ht=scontent-dfw5-2.xx&_nc...
...
# Meta Horizon CMI & TypeScript API 2.0: Import Images & Add Texture Animation
...
## Step 1: Creating FBX Files
...
 Then we’ll create a mesh plane via Add>Mesh>Plane. ![02 Blender - Add Mesh Plane.png](https://scontent-dfw5-3.xx.fbcdn.net/v/t39.2365-6/452597170_512509924620297_9030051662676405660_n.png?_nc_cat=108&ccb=1-7&_nc_sid=e280be&_nc_ohc=rSEL-FyeEpUQ7kNvwGM-BHi&_nc_oc=Adkl6D-imZPhU5BOT2OgtnAgJYcKZyTnLjTv9nEN9mRSb9pDXF8k8zzE4RjarUK0om0&_nc_zt=14&_nc_ht=scontent-dfw5-3.xx&_nc...
...
# Meta Horizon CMI & TypeScript API 2.0: Import Images & Add Texture Animation
...
## Step 1: Creating FBX Files
...
 Next, with the plane selected, click the ‘red beach-ball-like’ material icon on
...
...
# Meta Horizon CMI & TypeScript API 2.0: Import Images & Add Texture Animation
...
## Step 1: Creating FBX Files
...
the left. Then, click new. After creating “Material.001,” we can rename it “Image.” ![03 Blender - Material New.png](https://scontent-dfw5-1.xx.fbcdn.net/v/t39.2365-6/452814563_512509981286958_8049382712676840349_n.png?_nc_cat=110&ccb=1-7&_nc_sid=e280be&_nc_ohc=n0oJp0uVOGgQ7kNvwHfnCl_&_nc_oc=AdnS90qCG_NmyATZngdnBs_snslBQl0Z_Xtbv9omf2n0SupAgwC5-2x2fUksY8AZXIs&_nc_zt=14&_nc_ht...
...
# Meta Horizon CMI & TypeScript API 2.0: Import Images & Add Texture Animation
...
## Step 1: Creating FBX Files
...
![04 Blender - Rename Image.png](https://scontent-dfw5-1.xx.fbcdn.net/v/t39.2365-6/452819243_512509901286966_2206396220220413926_n.png?_nc_cat=110&ccb=1-7&_nc_sid=e280be&_nc_ohc=GbQoAnKPz00Q7kNvwErLlNC&_nc_oc=AdmrzdI5wnHPs-qaOZeobX9lndEAEW24Ebd6Y5aTY1m2Y4JJ5TKAzjFJkM28_jUwaSw&_nc_zt=14&_nc_ht=scontent-dfw5-1.xx&_nc_gid=DLLF4N4...
...
# Meta Horizon CMI & TypeScript API 2.0: Import Images & Add Texture Animation
...
## Step 1: Creating FBX Files
...
 This is a simple name, with no “_” underscore, used for CMI FBX objects being
imported into Horizon. Note that most any name can be used, but the PNG texture
uploaded with the model must use that name plus “_BR.” For instance, ours would be
“Image_BR.png.” If your name in Blender has underscores, everything after the
first underscore will be ignored by Horizon unless the underscore corresponds to
a specific material type, ie. _UIO, which we will see later in this step. Next, we will export as FBX, via File>Export>FBX. Make sure to give it a good
...
...
# Meta Horizon CMI & TypeScript API 2.0: Import Images & Add Texture Animation
...
## Step 1: Creating FBX Files
...
name, we will use “Image.fbx.” ![05 Blender - File Export FBX.png](https://scontent-dfw5-2.xx.fbcdn.net/v/t39.2365-6/452916233_512509864620303_2779347807224869433_n.png?_nc_cat=100&ccb=1-7&_nc_sid=e280be&_nc_ohc=gTuXaxte6BMQ7kNvwHnPHcl&_nc_oc=AdkRcjzEux79OviJ4rGm-Aq4xU4gP-s9nZZm9LKQzbdC5Y9iczC98tTddrMj7EOOldk&_nc_zt=14&_nc_ht=scontent-dfw5-2.xx&_nc...
...
# Meta Horizon CMI & TypeScript API 2.0: Import Images & Add Texture Animation
...
## Step 1: Creating FBX Files
...
 Now that we have created this simple plane, we can upload it as many times as we
want to Horizon with individual PNG images named “Image_BR.” I recommend saving
...
...
# Meta Horizon CMI & TypeScript API 2.0: Import Images & Add Texture Animation
...
## Step 1: Creating FBX Files
...
this in a folder to use whenever you want to import an image into Horizon. ![06 Blender - Save And Name FBX.png](https://scontent-dfw5-2.xx.fbcdn.net/v/t39.2365-6/452652224_512509771286979_6031989145017839875_n.png?_nc_cat=107&ccb=1-7&_nc_sid=e280be&_nc_ohc=52wfZaoJSf8Q7kNvwGktaN0&_nc_oc=AdlOMzkMlheG0FxE_Scw7WA4Y3jW5ijJv30yqIEhYc5WdiiSW5a-WpkpSSLd6nEO7IM&_nc_zt=14&_nc_ht=scontent-d...
...
# Meta Horizon CMI & TypeScript API 2.0: Import Images & Add Texture Animation
...
## Step 1: Creating FBX Files
...
 Back on the properties panel of our Plane, we are going to rename and export it
two more times, one named “Image_Masked,” and another named “Image_UIO.” Masked is used for images with solid areas of transparency (e.g., logos, icons,
etc). UIO also uses masking, but allows the mesh to have the texture swapped in
...
...
# Meta Horizon CMI & TypeScript API 2.0: Import Images & Add Texture Animation
...
## Step 1: Creating FBX Files
...
Horizon. ![07 Blender - Name Masked.png](https://scontent-dfw5-1.xx.fbcdn.net/v/t39.2365-6/452863715_512509734620316_4491289245265288581_n.png?_nc_cat=110&ccb=1-7&_nc_sid=e280be&_nc_ohc=3k-vd1Cvvk4Q7kNvwG-NKBV&_nc_oc=Adm18fgvkN8ax_gG6qj7QYgWvAd2jRPOOSQh6QBSGTxH3We4bwXRBh7lpwKAArYFCfs&_nc_zt=14&_nc_ht=scontent-dfw5-1.xx&_nc_gid=DLLF4N4...
...
# Meta Horizon CMI & TypeScript API 2.0: Import Images & Add Texture Animation
...
## Step 1: Creating FBX Files
...
![09 Blender - Name UIO.png](https://scontent-dfw5-1.xx.fbcdn.net/v/t39.2365-6/452683821_512510081286948_2595619572129583607_n.png?_nc_cat=110&ccb=1-7&_nc_sid=e280be&_nc_ohc=rRTAFbVmHmAQ7kNvwGQq3Sh&_nc_oc=AdmabbxWFkcMj2-bjm56upCp1QBsArPS1Aih75N9PV7L3memGgCg9GGCYDTIfgsScQo&_nc_zt=14&_nc_ht=scontent-dfw5-1.xx&_nc_gid=DLLF4N4B2cuNl6eC...
...
# Meta Horizon CMI & TypeScript API 2.0: Import Images & Add Texture Animation
...
## Step 1: Creating FBX Files
...
 The exported names of these FBXs are not required to match, but I found that
these names made a lot of sense for our use case. For _Masked, I named the file
...
...
# Meta Horizon CMI & TypeScript API 2.0: Import Images & Add Texture Animation
...
## Step 1: Creating FBX Files
...
“MaskedImage.fbx,” and for the UIO image I used “UIOImage.fbx.” ![Screenshot 2024-04-19 at 11.11.10 AM.png](https://scontent-dfw5-2.xx.fbcdn.net/v/t39.2365-6/452898941_512510074620282_8089196613872825284_n.png?_nc_cat=104&ccb=1-7&_nc_sid=e280be&_nc_ohc=ejGl_STZI-gQ7kNvwFGpH9r&_nc_oc=Adn1iGfEtNyEqF1oNPBUt1jRVIMcfzhRS3LeHmfpou-gTZN9nhS3Cdr4_JAexxT08Lk...
...
# Meta Horizon CMI & TypeScript API 2.0: Import Images & Add Texture Animation
...
## Step 1: Creating FBX Files
...
![Screenshot 2024-04-19 at 11.11.21 AM.png](https://scontent-dfw5-1.xx.fbcdn.net/v/t39.2365-6/452554819_512510067953616_4081317241237303944_n.png?_nc_cat=110&ccb=1-7&_nc_sid=e280be&_nc_ohc=rWgpiBO132AQ7kNvwG_VwCS&_nc_oc=AdkEq366yS82qtspR1SLvxFU5HbJ4344XNFGL4Ye-mEfsFCf73lsDZ5mfcgnxT3Ufbc&_nc_zt=14&_nc_ht=scontent-dfw5-1.xx&_nc_gid=DLLF4...
...
# Meta Horizon CMI & TypeScript API 2.0: Import Images & Add Texture Animation
...
## Step 1: Creating FBX Files
...
 Similar to “Image.fbx” and its corresponding “Image_BR.png,” these can be used
for any 2D image. If the image is not perfectly square, you will need to adjust
by scaling the plane in Horizon. Repeat this process for _Unlit, _Blend, and _Transparent. I named my files
“UnlitImage.fbx,” “UnlitBlendImage.fbx,” and “TransparentImage.fbx.”  
### Various Material Types
...
...
# Meta Horizon CMI & TypeScript API 2.0: Import Images & Add Texture Animation
...
## Step 2: Prepare PNGs
...
### Desktop Editor Setup

 For the best experience, we recommend creating a new world in the Desktop Editor
as you follow along with this tutorial. Select “Custom Model Import,” and then
...
...
# Meta Horizon CMI & TypeScript API 2.0: Import Images & Add Texture Animation
...
## Step 2: Prepare PNGs
...
### Desktop Editor Setup
...
click “Create.” ![13 Horizon - Create New World.png](https://scontent-dfw5-1.xx.fbcdn.net/v/t39.2365-6/452968581_512510194620270_3962294350470992074_n.png?_nc_cat=110&ccb=1-7&_nc_sid=e280be&_nc_ohc=JTsJR7-6mlYQ7kNvwFFVq7a&_nc_oc=Adm27QiGSwGvrMSPJ3Q2IyipW2CPxJghDCH3NnFT_6dQ0ezpX4LDXvpCfdAlh5YdG9Q&_nc_zt=14&_nc_ht=scontent-d...
...
# Meta Horizon CMI & TypeScript API 2.0: Import Images & Add Texture Animation
...
## Step 2: Prepare PNGs
...
### Desktop Editor Setup
...
 Once you have loaded in, at the bottom, select the “Assets” tab. Then click Add
New>3D Model>. You can then select the two files, presuming you didn’t already
...
...
# Meta Horizon CMI & TypeScript API 2.0: Import Images & Add Texture Animation
...
## Step 2: Prepare PNGs
...
### Desktop Editor Setup
...
use the web portal to import. ![14 Horizon - Assets Add New 3D Model.png](https://scontent-dfw5-2.xx.fbcdn.net/v/t39.2365-6/452698500_512510044620285_6379585956399160296_n.png?_nc_cat=104&ccb=1-7&_nc_sid=e280be&_nc_ohc=LnP4gzXcv98Q7kNvwGdSymw&_nc_oc=AdmYMI3WUYbVmxdWRunwQGGp5OcfydrG7kCE2ZoopJVgblU8HyClcTTI1jwhjIDi-00&_nc_zt=14&_nc_ht=scontent-dfw5-2.xx&_...
...
# Meta Horizon CMI & TypeScript API 2.0: Import Images & Add Texture Animation
...
## Step 2: Prepare PNGs
...
### Desktop Editor Setup
...
 Pro Tip: Create a folder first so that you can organize these files. ![21 Horizon - Create Folder.png](https://scontent-dfw5-1.xx.fbcdn.net/v/t39.2365-6/452969006_512510024620287_7145889613842616136_n.png?_nc_cat=101&ccb=1-7&_nc_sid=e280be&_nc_ohc=LjvlPZZ5hksQ7kNvwGKnXy8&_nc_oc=AdnlZXWoAuAAd_oF3pTbpEo1DyLkr9XqEAJ_nZpzNAi-xA5iaRi5Or2pkLyPibnmnnM&_nc_zt=14&_nc_ht=scontent-d...
...
# Meta Horizon CMI & TypeScript API 2.0: Import Images & Add Texture Animation
...
## Step 2: Prepare PNGs

 In this Written Guide, we only need the _UIO FBX, which we exported as
UIOImage.fbx. UIO textures need to be uploaded with a _BA PNG, which we will need to name
...
...
# Meta Horizon CMI & TypeScript API 2.0: Import Images & Add Texture Animation
...
## Step 2: Prepare PNGs
...
“Image_BA.png.” ![Screenshot 2024-04-19 at 11.06.55 AM.png](https://scontent-dfw5-1.xx.fbcdn.net/v/t39.2365-6/452520063_512509951286961_8039903915903876142_n.png?_nc_cat=105&ccb=1-7&_nc_sid=e280be&_nc_ohc=iiiWRznEAmcQ7kNvwF7XwLh&_nc_oc=AdkTQXEnrI8v_IU8nA8MHk9w0ViMbxDnD96eYpBvm02OfGJDoa_SSWYCfmtsqBhl73o&_nc_zt=14&_nc_ht=scontent-dfw5-...
...
# Meta Horizon CMI & TypeScript API 2.0: Import Images & Add Texture Animation
...
## Step 2: Prepare PNGs
...
 For other texture types, refer to the “Image Imports” section. Try uploading one
of each of these to your asset library to familiarize yourself with the process
and various texture types. Then upload the UIOImage.fbx & Image_BA.png files together using either the
Horizon desktop editor or from the web portal. From the web portal, press import,
...
...
# Meta Horizon CMI & TypeScript API 2.0: Import Images & Add Texture Animation
...
## Step 2: Prepare PNGs
...
and then select the two files. ![Screenshot 2024-04-19 at 11.02.04 AM.png](https://scontent-dfw5-1.xx.fbcdn.net/v/t39.2365-6/452932907_512509914620298_8416274368174123809_n.png?_nc_cat=101&ccb=1-7&_nc_sid=e280be&_nc_ohc=b0IYnai3HeAQ7kNvwEeOvhW&_nc_oc=Adl2P77O687qgd69H0_kjxLScienJwB7Ha0hHZdDj5l8UWlslx7IeyhwDKyHHqbMwa8&_nc_zt=14&_nc_ht=scontent-dfw5...
...
# Meta Horizon CMI & TypeScript API 2.0: Import Images & Add Texture Animation
...
## Step 2: Prepare PNGs
...
![Screenshot 2024-04-19 at 11.01.05 AM.png](https://scontent-dfw5-2.xx.fbcdn.net/v/t39.2365-6/452716174_512509917953631_1260850758204712021_n.png?_nc_cat=106&ccb=1-7&_nc_sid=e280be&_nc_ohc=FUiMVRY8z5QQ7kNvwH4g90s&_nc_oc=Adk_2kU8STnReh0UhPkxPGk1lCJbkzvDVYUHyF34GcaAgcjclNZfYoXRSXInWz0ED4s&_nc_zt=14&_nc_ht=scontent-dfw5-2.xx&_nc_gid=D...
...
# Meta Horizon CMI & TypeScript API 2.0: Import Images & Add Texture Animation
...
## Step 2: Prepare PNGs
...
 You will also want to have a series of PNGs to animate. We will upload them in
Step 3 using the Desktop Editor. Please note that at the time of writing (June
...
...
# Meta Horizon CMI & TypeScript API 2.0: Import Images & Add Texture Animation
...
## Step 2: Prepare PNGs
...
2024) PNG texture assets can only be uploaded using the Desktop Editor. ![23 Horizon - Add All PNGs.png](https://scontent-dfw5-1.xx.fbcdn.net/v/t39.2365-6/452830425_512509941286962_2286961765036510195_n.png?_nc_cat=101&ccb=1-7&_nc_sid=e280be&_nc_ohc=c6vptHe5C84Q7kNvwFRjoAc&_nc_oc=Adm3DYvxWJzaDa6xJO3xboBJqIr9RgJsrFX05emCpA6_pXsExPK8lzWJ0CQlbrM0OK0&_nc_zt=14&_nc_ht=scontent-dfw5-1.xx&_...
...
# Meta Horizon CMI & TypeScript API 2.0: Import Images & Add Texture Animation
...
## Step 2: Prepare PNGs
...
### Desktop Editor Setup
...
...
# Meta Horizon CMI & TypeScript API 2.0: Import Images & Add Texture Animation
...
## Step 3: Review Assets

 Bring out all uploaded assets into your world to review that they look correct.
Make sure to set the UIO Image in a notable spot as we will be using it for
...
...
# Meta Horizon CMI & TypeScript API 2.0: Import Images & Add Texture Animation
...
## Step 3: Review Assets
...
animation. ![Model Examples.png](https://scontent-dfw5-3.xx.fbcdn.net/v/t39.2365-6/452520302_512509931286963_1392348710732713706_n.png?_nc_cat=109&ccb=1-7&_nc_sid=e280be&_nc_ohc=_8NxOYsA1IgQ7kNvwE0gVUH&_nc_oc=AdlXEdfdqPz1wv3OLyK7xU00AVex5A5rP8NR6kCeGNWhOU7lcVRo1lFfik5pfWI1zJg&_nc_zt=14&_nc_ht=scontent-dfw5-3.xx&_nc_gid=DLLF4N4B2cuN...
...
# Meta Horizon CMI & TypeScript API 2.0: Import Images & Add Texture Animation
...
## Step 3: Review Assets
...
 Note: You don’t need to do all of them, just the UIO is required, but you might find
...
...
# Meta Horizon CMI & TypeScript API 2.0: Import Images & Add Texture Animation
...
## Step 3: Review Assets
...
it helpful to test the other texture options. From left to right in the image below: _BR, _Masked, _UIO. ![16 Horizon - Drag Images Into World.png](https://scontent-dfw5-1.xx.fbcdn.net/v/t39.2365-6/452698500_512509927953630_2391688165484220586_n.png?_nc_cat=110&ccb=1-7&_nc_sid=e280be&_nc_ohc=BKhoNGsMjq8Q7kNvwHaA6V7&_nc_oc=AdkC6OqwRuYHOi3hQ-NtvvO-CLKbhoKJIXfZ9N1vtP4E4Cj0wUY38fRslzquyY4Ga...
...
# Meta Horizon CMI & TypeScript API 2.0: Import Images & Add Texture Animation
...
## Step 4: Animation PNGs
...
### Typescript 2.0 Script Setup

 We are using the Horizon Typescript 2.0 API, at the time of writing (June 2024),
this is the default. If your world is currently set to 1.0, or another version, you can change this
from the script tab by clicking the gear icon and then Script Settings. There you
...
...
# Meta Horizon CMI & TypeScript API 2.0: Import Images & Add Texture Animation
...
## Step 4: Animation PNGs
...
### Typescript 2.0 Script Setup
...
will see the API Version drop-down and can select 2.0.0, then click Apply. ![Image](https://scontent-dfw5-3.xx.fbcdn.net/v/t39.2365-6/452968830_512510014620288_2686261352574634183_n.png?_nc_cat=109&ccb=1-7&_nc_sid=e280be&_nc_ohc=ziA8-AMGVf4Q7kNvwHqP8e0&_nc_oc=AdnYe6iKcEUtTkOkfbL5QU02owHI5W1agE8XCu0C8lBGp3RZv-E7bA4XeZfdhxNIR_M&_nc...
...
# Meta Horizon CMI & TypeScript API 2.0: Import Images & Add Texture Animation
...
## Step 4: Animation PNGs
...
### AnimatedGIF.ts

 You can copy and paste this code into a new script, or download the code as a
file by clicking [here](https://drive.google.com/file/d/1L2RWLL8h75ezou6xoWUApNjr-aaH-2_Z/view?usp=sharing). Then drag the Typescript file into the scripts folder (Scripts > Three Dot
Icon > Open Scripts Folder).  
```
import { Asset, Component, MeshEntity, PropTypes, TextureAsset } from "horizon/core";

class AnimatedGIF extends Component<typeof AnimatedGIF> {

  static propsDefinition = {
    //Adjust the speedSeconds default here, or for each animation individually from the properties panel
    speedSeconds: { type: PropTypes.Number, default: 1 },
    texture0: { type: PropTypes.Asset },
...
...
# Meta Horizon CMI & TypeScript API 2.0: Import Images & Add Texture Animation
...
## Step 4: Animation PNGs
...
### AnimatedGIF.ts
...
    texture1: { type: PropTypes.Asset },
    texture2: { type: PropTypes.Asset },
    texture3: { type: PropTypes.Asset },
    texture4: { type: PropTypes.Asset },
    texture5: { type: PropTypes.Asset },
    texture6: { type: PropTypes.Asset },
    texture7: { type: PropTypes.Asset },
    texture8: { type: PropTypes.Asset },
    texture9: { type: PropTypes.Asset },
    texture10: { type: PropTypes.Asset },
    texture11: { type: PropTypes.Asset },
    texture12: { type: PropTypes.Asset },
    texture13: { type: PropTypes.Asset },
    texture14: { type: PropTypes.Asset },
    texture15: { type: PropTypes.Asset },
  };

  //create texture array, starting index of 0
...
...
# Meta Horizon CMI & TypeScript API 2.0: Import Images & Add Texture Animation
...
## Step 4: Animation PNGs
...
### AnimatedGIF.ts
...
  textures: TextureAsset[] = [];
  index = 0;

  //This value is set in start using this.props.speedSeconds
  delaySpeedMs = 0;

  start() {
    //Add Textures To Array In Correct Order (Skips Unassigned Values)
    this.addTextureToArray(this.props.texture0);
    this.addTextureToArray(this.props.texture1);
    this.addTextureToArray(this.props.texture2);
    this.addTextureToArray(this.props.texture3);
    this.addTextureToArray(this.props.texture4);
    this.addTextureToArray(this.props.texture5);
    this.addTextureToArray(this.props.texture6);
    this.addTextureToArray(this.props.texture7);
    this.addTextureToArray(this.props.texture8);
    this.addTextureToArray(this.props.texture9);
    this.addTextureToArray(this.props.texture10);
...
...
# Meta Horizon CMI & TypeScript API 2.0: Import Images & Add Texture Animation
...
## Step 4: Animation PNGs
...
### AnimatedGIF.ts
...
    this.addTextureToArray(this.props.texture11);
    this.addTextureToArray(this.props.texture12);
    this.addTextureToArray(this.props.texture13);
    this.addTextureToArray(this.props.texture14);
    this.addTextureToArray(this.props.texture15);

    //Value can be changed from the properties panel, maximum speed of 100x per second
    this.delaySpeedMs = Math.max(Math.floor(this.props.speedSeconds * 1000), 10);

    //Create meshEntity variable to make sure the script is attached to a MeshEntity
    const meshEntity = this.entity.as(MeshEntity);
if (meshEntity) {
      //Create looping event with setInterval
      this.async.setInterval(() => { this.loop(meshEntity); }, this.delaySpeedMs);
    }

    else {
...
...
# Meta Horizon CMI & TypeScript API 2.0: Import Images & Add Texture Animation
...
## Step 4: Animation PNGs
...
### AnimatedGIF.ts
...
      console.log('AnimatedGIF: meshEntity returned undefined (is the script attached to a UIO CMI MeshEntity?)');
    }
  }


  loop(meshEntity: MeshEntity) {
    meshEntity.setTexture(this.textures[this.index]);

    //update the index and loop back to 0 when reaching the length of the array
    this.index = (this.index + 1) % this.textures.length;

  }

  addTextureToArray(prop: Asset \| undefined) {
    if (prop) {
      this.textures.push(prop.as(TextureAsset));
    }
  }
}

Component.register(AnimatedGIF);
```
...
...
# Meta Horizon CMI & TypeScript API 2.0: Import Images & Add Texture Animation
...
## Step 4: Animation PNGs
...
### TextureSwappingTrigger.ts

 You can copy and paste this code into a new script, or download the code as a
file by clicking [here](https://drive.google.com/file/d/1ZCo3ZCAAEOzGzJRaCRmtJ4lxLyoxSk8y/view?usp=sharing). Then drag the Typescript file into the scripts folder (Scripts > Three Dot
Icon > Open Scripts Folder).  
```
import { Asset, CodeBlockEvents, Component, MeshEntity, Player, PropTypes, TextureAsset } from "horizon/core";

//This script is attached to a trigger gizmo
class TextureSwappingTrigger extends Component<typeof TextureSwappingTrigger> {

  static propsDefinition = {
    //Make sure to reference the UIO MeshEntity on the trigger's property panel
...
...
# Meta Horizon CMI & TypeScript API 2.0: Import Images & Add Texture Animation
...
## Step 4: Animation PNGs
...
### TextureSwappingTrigger.ts
...
    uioEntity: { type: PropTypes.Entity },
    startingIndex: { type: PropTypes.Number, default: 0 },
    texture0: { type: PropTypes.Asset },
    texture1: { type: PropTypes.Asset },
    texture2: { type: PropTypes.Asset },
    texture3: { type: PropTypes.Asset },
    texture4: { type: PropTypes.Asset },
    texture5: { type: PropTypes.Asset },
    texture6: { type: PropTypes.Asset },
    texture7: { type: PropTypes.Asset },
    texture8: { type: PropTypes.Asset },
    texture9: { type: PropTypes.Asset },
    texture10: { type: PropTypes.Asset },
    texture11: { type: PropTypes.Asset },
    texture12: { type: PropTypes.Asset },
    texture13: { type: PropTypes.Asset },
...
...
# Meta Horizon CMI & TypeScript API 2.0: Import Images & Add Texture Animation
...
## Step 4: Animation PNGs
...
### TextureSwappingTrigger.ts
...
    texture14: { type: PropTypes.Asset },
    texture15: { type: PropTypes.Asset },
  };

  //create texture array, starting index of 0 is assigned using this.props.startingIndex (adjust from props or on trigger property panel)
  textures: TextureAsset[] = [];
  index = 0;

  preStart() {
    this.connectCodeBlockEvent(this.entity, CodeBlockEvents.OnPlayerEnterTrigger, this.triggerEnter.bind(this));
  }

  start() {
    //Add Textures To Array In Correct Order (Skips Unassigned Values)
    this.addTextureToArray(this.props.texture0);
    this.addTextureToArray(this.props.texture1);
    this.addTextureToArray(this.props.texture2);
    this.addTextureToArray(this.props.texture3);
    this.addTextureToArray(this.props.texture4);
...
...
# Meta Horizon CMI & TypeScript API 2.0: Import Images & Add Texture Animation
...
## Step 4: Animation PNGs
...
### TextureSwappingTrigger.ts
...
    this.addTextureToArray(this.props.texture5);
    this.addTextureToArray(this.props.texture6);
    this.addTextureToArray(this.props.texture7);
    this.addTextureToArray(this.props.texture8);
    this.addTextureToArray(this.props.texture9);
    this.addTextureToArray(this.props.texture10);
    this.addTextureToArray(this.props.texture11);
    this.addTextureToArray(this.props.texture12);
    this.addTextureToArray(this.props.texture13);
    this.addTextureToArray(this.props.texture14);
    this.addTextureToArray(this.props.texture15);

    //Update to default texture on world start (checks for out of index starting value, adjusting if necessary)
    this.index = this.props.startingIndex % this.textures.length;
    this.updateTexture();
  }

  triggerEnter(player: Player) {
    this.updateTexture();
...
...
# Meta Horizon CMI & TypeScript API 2.0: Import Images & Add Texture Animation
...
## Step 4: Animation PNGs
...
### TextureSwappingTrigger.ts
...
  }

  updateTexture() {
    //Create meshEntity variable to make sure the script is referencing a MeshEntity
    const meshEntity = this.props.uioEntity?.as(MeshEntity);

    if (meshEntity) {
      meshEntity.setTexture(this.textures[this.index]);
    }
    else {
      console.log('TextureSwappingTrigger: meshEntity returned undefined (is the script referencing a UIO CMI MeshEntity?)');
    }

    //update the index and loop back to 0 when reaching the length of the array
    this.index = (this.index + 1) % this.textures.length;
  }

  addTextureToArray(prop: Asset \| undefined) {
    if (prop) {
      this.textures.push(prop.as(TextureAsset));
    }
  }
}
...
...
# Meta Horizon CMI & TypeScript API 2.0: Import Images & Add Texture Animation
...
## Step 4: Animation PNGs
...
### TextureSwappingTrigger.ts
...
Component.register(TextureSwappingTrigger);
```
...
...
# Meta Horizon CMI & TypeScript API 2.0: Import Images & Add Texture Animation
...
## Step 4: Animation PNGs

 Similar to how we uploaded assets via the desktop editor on the previous page,
we can also upload PNG texture assets. Select “Texture” from the “Add New” drop-down, then select all of the PNG
...
...
# Meta Horizon CMI & TypeScript API 2.0: Import Images & Add Texture Animation
...
## Step 4: Animation PNGs
...
animation frames you wish to upload. ![22 Horizon - Select Folder Add New Texture.png](https://scontent-dfw5-2.xx.fbcdn.net/v/t39.2365-6/452942546_512509921286964_7427347511941929464_n.png?_nc_cat=107&ccb=1-7&_nc_sid=e280be&_nc_ohc=Hb8xxQhxHToQ7kNvwHNwwr-&_nc_oc=Adk0qx73JADJ01ts7AizQkpEpq3PBhJINl2zchwu1BiwpgZ7_QcyXY7rj1p9OwXkpao&_nc_zt=14&_nc_ht=scontent-dfw5-2.xx&_nc_gid=DLLF4...
...
# Meta Horizon CMI & TypeScript API 2.0: Import Images & Add Texture Animation
...
## Step 4: Animation PNGs
...
![23 Horizon - Add All PNGs.png](https://scontent-dfw5-2.xx.fbcdn.net/v/t39.2365-6/452886177_512509934620296_7252073352601237353_n.png?_nc_cat=102&ccb=1-7&_nc_sid=e280be&_nc_ohc=G-05-kNboBMQ7kNvwECZxu-&_nc_oc=Adk_Wsave2AR0AJtnUIgem31fkrYE-Bwz56KSYSBq5En9heJnZ8--p1IyI_IdTlUlaQ&_nc_zt=14&_nc_ht=scontent-dfw5-2.xx&_nc_gid=DLLF4N4B2cuNl6eCQ...
...
# Meta Horizon CMI & TypeScript API 2.0: Import Images & Add Texture Animation
...
## Step 4: Animation PNGs
...
 Note: The names of these images are not required, but it is recommended to name them
in a way that makes it easy for you to identify the order in Horizon later. Next, click Import. This will upload them into your selected folder.
Unfortunately, they are not ordered when you upload in bulk like this, which is why naming
...
...
# Meta Horizon CMI & TypeScript API 2.0: Import Images & Add Texture Animation
...
## Step 4: Animation PNGs
...
is so important. ![24 Horizon - Import All PNGs.png](https://scontent-dfw5-3.xx.fbcdn.net/v/t39.2365-6/452578170_512509931286963_9067343352172927240_n.png?_nc_cat=109&ccb=1-7&_nc_sid=e280be&_nc_ohc=HMlnhz_ie4wQ7kNvwH8H4a3&_nc_oc=Adm3Pmr9B3gbnrFv6kw_DHz6JyFLloxbpGzVM8K5VfX0rjmAa-B0Es1OJbdr_iKW5BM&_nc_zt=14&_nc_ht=scontent-d...
...
# Meta Horizon CMI & TypeScript API 2.0: Import Images & Add Texture Animation
...
## Step 4: Animation PNGs
...
![25 Horizon - Select UIO Object Attach AnimatedGIF Script.png](https://scontent-dfw5-3.xx.fbcdn.net/v/t39.2365-6/452813675_512510017953621_1399693691768195627_n.png?_nc_cat=109&ccb=1-7&_nc_sid=e280be&_nc_ohc=IbqGPTgBS_sQ7kNvwE3CaWE&_nc_oc=AdmElsntqAtnSHPhasiz5CVc-WXe_pAWv73rCsTz8Fg-Jph3VGhhDiBsDwCxdFIp4BY&_nc_zt=14&_nc_ht=scontent-dfw5-3.xx&_nc_gid=DLLF4N4B...
...
# Meta Horizon CMI & TypeScript API 2.0: Import Images & Add Texture Animation
...
## Step 4: Animation PNGs
...
### Typescript 2.0 Script Setup
...
### AnimatedGIF.ts
...
### TextureSwappingTrigger.ts
...
...
# Meta Horizon CMI & TypeScript API 2.0: Import Images & Add Texture Animation
...
## Step 5: Create Scripts

 If you have downloaded the files, you can open the scripts folder by clicking
the three-dot icon next to the gear icon, and selecting “Open Scripts Folder.” You
can then drag the download files into that folder. Alternatively, if you’d like
to write the code, you can create two new scripts, one named “AnimatedGIF” and
the other “TextureSwappingTrigger.” You’ll then hover over the newly created script and on the right side click the
three-dot icon to see the drop-down, allowing you to select “Open in External
...
...
# Meta Horizon CMI & TypeScript API 2.0: Import Images & Add Texture Animation
...
## Step 5: Create Scripts
...
Editor.” ![18 Horizon - Create AnimatedGIF Script.png](https://scontent-dfw5-1.xx.fbcdn.net/v/t39.2365-6/452908886_512510011286955_6071772640735723234_n.png?_nc_cat=101&ccb=1-7&_nc_sid=e280be&_nc_ohc=uNlfBPk4_AwQ7kNvwHk9x9j&_nc_oc=Adm6YhB2bH7isUxhgpzuA9WLN5KNann1b2xexGBE69neK_uONoR3665g6Edy50TyO7s&_nc_zt=14&_nc_ht=scontent-dfw5-1.xx&_nc_gid=DLLF4N...
...
# Meta Horizon CMI & TypeScript API 2.0: Import Images & Add Texture Animation
...
## Step 5: Create Scripts
...
 From the external editor, you’ll be able to paste the scripts seen on the
previous pages or write it out by hand for practice writing Typescript code. You will
want to make sure to click “Ctrl + S” to save, then the files will compile.
Please note that this tutorial doesn’t cover writing Typescript, so if this is your
...
...
# Meta Horizon CMI & TypeScript API 2.0: Import Images & Add Texture Animation
...
## Step 5: Create Scripts
...
first time, we recommend copying and pasting, or using the downloaded files. ![20 VS Code - Delete Default Paste AnimatedGIF Script.png](https://scontent-dfw5-2.xx.fbcdn.net/v/t39.2365-6/452952740_512509997953623_6613449436146433136_n.png?_nc_cat=100&ccb=1-7&_nc_sid=e280be&_nc_ohc=oy71pWukG6UQ7kNvwHepXB1&_nc_oc=AdnjzEucXYs2R9PC-wK1C7ysFC1JBGwmxSh5AYcq88fOcxkgOyVxFbJfCkCIUhuc8fA&_nc_zt=14&_nc_ht=sconte...
...
# Meta Horizon CMI & TypeScript API 2.0: Import Images & Add Texture Animation
...
## Step 5: Create Scripts
...
![38 Horizon - Create TextureSwappingTriggerScript.png](https://scontent-dfw5-2.xx.fbcdn.net/v/t39.2365-6/452915631_512509861286970_8320013039747796277_n.png?_nc_cat=107&ccb=1-7&_nc_sid=e280be&_nc_ohc=G5X9cMHJR2cQ7kNvwGjngmJ&_nc_oc=AdlCL4ryLhRfmRhuaJWbtDV5uqDDA5yre5xoi5cswwPzUR_VeRGxaI55B7zIF71L-nU&_nc_zt=14&_nc_ht=scontent-d...
...
# Meta Horizon CMI & TypeScript API 2.0: Import Images & Add Texture Animation
...
## Step 6: Animated GIF

 Before we get started, make sure to click the square stop world icon, this is a
good practice when working on scripted objects as it reduces the chances of bugs
...
...
# Meta Horizon CMI & TypeScript API 2.0: Import Images & Add Texture Animation
...
## Step 6: Animated GIF
...
and errors. ![27 Horizon - Stop The World.png](https://scontent-dfw5-1.xx.fbcdn.net/v/t39.2365-6/452615549_512509971286959_3679470934818076750_n.png?_nc_cat=101&ccb=1-7&_nc_sid=e280be&_nc_ohc=mKv2TlnmBTUQ7kNvwFzt6br&_nc_oc=AdlaUSdjq2ti-ZxNUajTMIfg1Vq6JgSlveg4bY4BmLOHLUYHuaqlSapYNwdn_AqSPdk&_nc_zt=14&_nc_ht=scontent-dfw5-2.xx&_nc...
...
# Meta Horizon CMI & TypeScript API 2.0: Import Images & Add Texture Animation
...
## Step 6: Animated GIF
...
 Selecting the UIO Plane will open the properties panel on the right side. At the
bottom of the properties panel, you can attach a script. We will attach the
...
...
# Meta Horizon CMI & TypeScript API 2.0: Import Images & Add Texture Animation
...
## Step 6: Animated GIF
...
AnimatedGIF script. ![25 Horizon - Select UIO Object Attach AnimatedGIF Script.png](https://scontent-dfw5-1.xx.fbcdn.net/v/t39.2365-6/452893310_512510007953622_6953964120795560456_n.png?_nc_cat=110&ccb=1-7&_nc_sid=e280be&_nc_ohc=3Bi8bxu635YQ7kNvwGEOHwl&_nc_oc=Adn4LtMxwx0ykAah8TWjB9T7d-zGq6w9D0zT_pYVfvsn_4NOyaCBHRhM7VY3TKj7EPI&_nc_zt=14&_nc_ht=scontent-dfw5-1.xx&_nc...
...
# Meta Horizon CMI & TypeScript API 2.0: Import Images & Add Texture Animation
...
## Step 6: Animated GIF
...
 With the script attached, we can now drag the assets into the empty texture
...
...
# Meta Horizon CMI & TypeScript API 2.0: Import Images & Add Texture Animation
...
## Step 6: Animated GIF
...
slots in the correct order. ![26 Horizon - Reference All Texture Assets To Correct Index.png](https://scontent-dfw5-1.xx.fbcdn.net/v/t39.2365-6/452597104_512509974620292_7381418665732884630_n.png?_nc_cat=105&ccb=1-7&_nc_sid=e280be&_nc_ohc=iL1N5M9mVp4Q7kNvwH4Vy1Y&_nc_oc=Adn9sz2y-RQN8ARcDNRf2AtXKbo9J8nSbhigwyBhVtRkNo5nzUNyBYsMf85t8v80CKo&_nc_zt=14&_nc_ht=scontent-dfw5-1.xx...
...
# Meta Horizon CMI & TypeScript API 2.0: Import Images & Add Texture Animation
...
## Step 6: Animated GIF
...
 ![28 Horizon - Not All References Required Change Speed.png](https://scontent-dfw5-1.xx.fbcdn.net/v/t39.2365-6/452934376_512509991286957_335261093369493818_n.png?_nc_cat=103&ccb=1-7&_nc_sid=e280be&_nc_ohc=hAmET7kmMcAQ7kNvwHyliHz&_nc_oc=AdmLkn4UbVf_lbdo8A2qf5lpGeg5weHc2rcJvhfQQFVfDtLU3BatYzRxs7ptYVF253g&_nc_zt=14&_nc_ht=scontent-dfw5-1.xx&_nc_gid=DLLF4N4B2cuNl6eCQ...
...
# Meta Horizon CMI & TypeScript API 2.0: Import Images & Add Texture Animation
...
## Step 6: Animated GIF
...
 With the texture assets referenced, we are almost ready to test the script.
Notice that not all texture slots need to be filled out, the script we wrote and are
using is intelligent enough to ignore these. Before we test though, we should adjust the speed parameter to better match our
...
...
# Meta Horizon CMI & TypeScript API 2.0: Import Images & Add Texture Animation
...
## Step 6: Animated GIF
...
desired animation style, in this case, I used 0.2 seconds. Now let’s click play world! ![29 Horizon - Play World.png](https://scontent-dfw5-3.xx.fbcdn.net/v/t39.2365-6/452532621_512509987953624_4411056457549309049_n.png?_nc_cat=109&ccb=1-7&_nc_sid=e280be&_nc_ohc=GBw7LH1migMQ7kNvwGAWc1r&_nc_oc=AdmH1P56qpwIPMVrQQJNFNw_vXmXeTctc3itQAZkE9XtOBs5pdVTlxovNrFa-hFHgkU&_nc_zt=14&_nc_ht...
...
# Meta Horizon CMI & TypeScript API 2.0: Import Images & Add Texture Animation
...
## Step 6: Animated GIF
...
 The speed was a little slow, so we’ll adjust to 0.1 seconds. You might have also
noticed that the first play through the loop had some hiccups due to needing to
...
...
# Meta Horizon CMI & TypeScript API 2.0: Import Images & Add Texture Animation
...
## Step 6: Animated GIF
...
download the images, but after it played once, it was smooth. ![30 Horizon - Adjust Speed To Your Liking.png](https://scontent-dfw5-3.xx.fbcdn.net/v/t39.2365-6/452933994_512509984620291_3491567733690113088_n.png?_nc_cat=109&ccb=1-7&_nc_sid=e280be&_nc_ohc=kPzQcpz3pA8Q7kNvwEJ3k3V&_nc_oc=Adm9MTh0afL3hZ6O35vJyE_snLkucOkSinWMm8wX3vF71WcMaocvs4WS_yWWcDdsbOQ&_nc_zt=14&_nc_ht=sconte...
...
# Meta Horizon CMI & TypeScript API 2.0: Import Images & Add Texture Animation
...
## Step 6: Animated GIF
...
![35 Horizon - Billboarded Nyan Cat.gif](https://scontent-dfw5-2.xx.fbcdn.net/v/t39.2365-6/452540279_512509977953625_2643885165784093538_n.png?_nc_cat=107&ccb=1-7&_nc_sid=e280be&_nc_ohc=GBqTCBQ7E3sQ7kNvwG-2wGw&_nc_oc=Adl6MnB2d6iKT3v4jDRMs4gxhSW3vBwHWpvDiT6az5HFWxRH0Ik9_ueSz4cavVbSKuU&_nc_zt=14&_nc_ht=scontent-dfw5-2.xx&_nc_gid=DLLF4N...
...
# Meta Horizon CMI & TypeScript API 2.0: Import Images & Add Texture Animation
...
## Step 7: Billboarding

 This looks good, but only from one side, it would work great on a wall, but what
if you want it to float freely? In that case, we should billboard our GIF! As of the time of writing (June 2024), billboarding can only be applied to
grouped objects, not singular planes like this, so we will need to duplicate (Ctrl +
D), and then group the two GIFs. After grouping we will delete the extra GIF. Note: You can select two objects in the hierarchy on the left side by holding
shift or ctrl, and when you right-click the selection will have an option to
...
...
# Meta Horizon CMI & TypeScript API 2.0: Import Images & Add Texture Animation
...
## Step 7: Billboarding
...
“Group selection.” ![31 Horizon - Group With Some Object.png](https://scontent-dfw5-2.xx.fbcdn.net/v/t39.2365-6/452853527_512510001286956_2716518458353739131_n.png?_nc_cat=100&ccb=1-7&_nc_sid=e280be&_nc_ohc=9yMpjJXc79QQ7kNvwEHFE3a&_nc_oc=AdmUtQcBUh4m02VbqdQ1kdGprgKVrhNc4j_6y_IAjNBpzavxuXCeZ1rg9W6UouwPyzo&_nc_zt=14&_nc_ht=scontent-dfw5-2.xx&_nc_gid=DLLF4N4B...
...
# Meta Horizon CMI & TypeScript API 2.0: Import Images & Add Texture Animation
...
## Step 7: Billboarding
...
 Afterwards, we can drop down into the group from the hierarchy, and then
...
...
# Meta Horizon CMI & TypeScript API 2.0: Import Images & Add Texture Animation
...
## Step 7: Billboarding
...
right-click to delete the extra plane. ![32 Horizon - Delete That Object.png](https://scontent-dfw5-2.xx.fbcdn.net/v/t39.2365-6/452415046_512509911286965_3425181708830011765_n.png?_nc_cat=104&ccb=1-7&_nc_sid=e280be&_nc_ohc=539jw6UcHkkQ7kNvwGytCzN&_nc_oc=AdndkbC2FkLTf1tZCEiLexJM_7z8G1hdRQGRKXXU4NhopUJqIG2HvubPSBCDZI_AuJY&_nc_zt=14&_nc_ht=scontent-dfw5-2.xx&_nc_gid=DLL...
...
# Meta Horizon CMI & TypeScript API 2.0: Import Images & Add Texture Animation
...
## Step 7: Billboarding
...
 To apply billboarding we will select the [EntityGroup] from the hierarchy. On
the right side properties panel, set Motion to Animated, which will reveal the
...
...
# Meta Horizon CMI & TypeScript API 2.0: Import Images & Add Texture Animation
...
## Step 7: Billboarding
...
Billboard property. You can then select Lock-Y or Freeform from the drop-down. ![33 Horizon - Select Group Set Motion To Animated.png](https://scontent-dfw5-2.xx.fbcdn.net/v/t39.2365-6/452915492_512509907953632_8557229846459868426_n.png?_nc_cat=107&ccb=1-7&_nc_sid=e280be&_nc_ohc=GCo2jFukBtkQ7kNvwGK7rJe&_nc_oc=AdnXgzR1x70W-JuCPgtoCsy7rwsC3enaiZQ0p2_W50BN8XHROUXg4ATkdIoQ0jrNQ0o&_nc_zt=14&_nc_ht=sconte...
...
# Meta Horizon CMI & TypeScript API 2.0: Import Images & Add Texture Animation
...
## Step 7: Billboarding
...
![34 Horizon - Billboard Freeform.png](https://scontent-dfw5-2.xx.fbcdn.net/v/t39.2365-6/452513071_512509904620299_6429956925647591739_n.png?_nc_cat=104&ccb=1-7&_nc_sid=e280be&_nc_ohc=I56A6herinYQ7kNvwEcX-1I&_nc_oc=AdnrLkcbYjr6QcmWFERUxHhskYZG9UCHEkoP2lt8oqT-ZMIOzC8P1LwicG8bBxh2Jvg&_nc_zt=14&_nc_ht=scontent-dfw5-2.xx&_nc_gid=DLLF4N4B2cuN...
...
# Meta Horizon CMI & TypeScript API 2.0: Import Images & Add Texture Animation
...
## Step 7: Billboarding
...
 Now start the world and run around in preview mode!  
...
...
# Meta Horizon CMI & TypeScript API 2.0: Import Images & Add Texture Animation
...
## Step 8: Texture Trigger

 This script will allow visitors to change the texture of your UIO mesh, one
texture at a time. It will run on a trigger gizmo, so let’s start by pulling one
out. We’ll also need to be able to see the trigger in preview mode, so let’s grab a
cylinder to use as a placeholder for a button. You will also want to bring out
a new UIO asset. We can then position everything in our world. Select the trigger, then attach the script to the trigger gizmo from the bottom
...
...
# Meta Horizon CMI & TypeScript API 2.0: Import Images & Add Texture Animation
...
## Step 8: Texture Trigger
...
of the right-hand side properties panel. ![39 Horizon - Bring Out A Trigger Gizmo.png](https://scontent-dfw5-2.xx.fbcdn.net/v/t39.2365-6/452615830_512509897953633_5127349402886952232_n.png?_nc_cat=104&ccb=1-7&_nc_sid=e280be&_nc_ohc=ECVmhPfzE0sQ7kNvwG0S98L&_nc_oc=AdmiU6L6g9hFZAMoQJQqJBrCvTi-0nKDlxhQSifLgwtHSYO1HuyYqQ6BxBDQ1RFa8vM&_nc_zt=14&_nc_ht=scontent-dfw5...
...
# Meta Horizon CMI & TypeScript API 2.0: Import Images & Add Texture Animation
...
## Step 8: Texture Trigger
...
![40 Horizon - Bring Out A Button Shape.png](https://scontent-dfw5-3.xx.fbcdn.net/v/t39.2365-6/452752337_512509887953634_7522440812087672101_n.png?_nc_cat=109&ccb=1-7&_nc_sid=e280be&_nc_ohc=Zmx8Rsr3nUkQ7kNvwFIAyzy&_nc_oc=Adm1SmbeK54fOz01HumpxIs1ce18Ca52Rvf4kA_9A5FyCyIoNqEc4uka0n5WDpGom9A&_nc_zt=14&_nc_ht=scontent-dfw5-3.xx&_nc_gid=DLLF4N4...
...
# Meta Horizon CMI & TypeScript API 2.0: Import Images & Add Texture Animation
...
## Step 8: Texture Trigger
...
![41 Horizon - Adjust Scene To Your Liking And Select Trigger.png](https://scontent-dfw5-2.xx.fbcdn.net/v/t39.2365-6/452916233_512509894620300_8243052218315123329_n.png?_nc_cat=104&ccb=1-7&_nc_sid=e280be&_nc_ohc=l3Ol_gJ1mMAQ7kNvwFKTCjB&_nc_oc=AdkCjXnJy5YfVoRM6YtNuV79ZUMQl8ZYB4x1BMoeqFKTmzYV18Axl4NqRUgiY5DkNbA&_nc_zt=14&_nc_ht=scontent-dfw5-2.xx&_nc_gid=DLLF4N...
...
# Meta Horizon CMI & TypeScript API 2.0: Import Images & Add Texture Animation
...
## Step 8: Texture Trigger
...
 ![42 Horizon - Attach Script.png](https://scontent-dfw5-2.xx.fbcdn.net/v/t39.2365-6/452628926_512509891286967_3053857877730824769_n.png?_nc_cat=107&ccb=1-7&_nc_sid=e280be&_nc_ohc=gsSbh8phzycQ7kNvwFTK03g&_nc_oc=Admh0PkJDvjeouhIj4pGYMy357UYaMUjCRxpx5tBqrwH8Uzb3aTdqxsmwl_v0QeYJuY&_nc_zt=14&_nc_ht=scontent-dfw5-2.xx&_nc_gid=DLLF4N4B2cuN...
...
# Meta Horizon CMI & TypeScript API 2.0: Import Images & Add Texture Animation
...
## Step 8: Texture Trigger
...
 Select the UIO plane, and give it a good name so we can better identify it. ![43 Horizon - Rename New UIO Object As NyanCatFrameByFrame.png](https://scontent-dfw5-1.xx.fbcdn.net/v/t39.2365-6/452413127_512509874620302_6306166632729951456_n.png?_nc_cat=101&ccb=1-7&_nc_sid=e280be&_nc_ohc=34qVjxGArTUQ7kNvwE35bl3&_nc_oc=Adm1i3922eDz1FMx3HgOKpspAqQghk5-LTdJJMi7Y9onuvpS00WDfSmwd7CMRHaLmdU&_nc_zt=14&_nc_ht=scontent-d...
...
# Meta Horizon CMI & TypeScript API 2.0: Import Images & Add Texture Animation
...
## Step 8: Texture Trigger
...
 Select the trigger gizmo again, and now we are going to fill out the uioEntity
reference. Clicking the empty pill slot will give us a drop-down, and we can even
...
...
# Meta Horizon CMI & TypeScript API 2.0: Import Images & Add Texture Animation
...
## Step 8: Texture Trigger
...
type to search for our UIO plane. ![44 Horizon - Reference NyanCatFrameByFrame.png](https://scontent-dfw5-1.xx.fbcdn.net/v/t39.2365-6/452415063_512509871286969_397156706064990581_n.png?_nc_cat=111&ccb=1-7&_nc_sid=e280be&_nc_ohc=dXmQDyamKucQ7kNvwGhVPjz&_nc_oc=Adn_ZR6XqXRH3GKUL4Y99cV_siLItMCQZKMX19B8MPocNsWFnkJ7z3zkrgYLSJfuvFQ&_nc_zt=14&_nc_ht=scontent-d...
...
# Meta Horizon CMI & TypeScript API 2.0: Import Images & Add Texture Animation
...
## Step 8: Texture Trigger
...
 After filling that out, we still need to reference the texture entities. We can
do that the same way we did before for our GIF animation. Once it is all filled out we can test. Note that there is an optional
startingIndex property. You can use this to set the texture you want the UIO plane to
start with. But, it only works if you have no gaps in your references up until that
...
...
# Meta Horizon CMI & TypeScript API 2.0: Import Images & Add Texture Animation
...
## Step 8: Texture Trigger
...
index (otherwise the values will be off by 1-2 or so). ![45 Horizon - Reference Desired Frames Optionally Change Starting Index.png](https://scontent-dfw5-1.xx.fbcdn.net/v/t39.2365-6/452415063_512509871286969_397156706064990581_n.png?_nc_cat=111&ccb=1-7&_nc_sid=e280be&_nc_ohc=dXmQDyamKucQ7kNvwGhVPjz&_nc_oc=Adn_ZR6XqXRH3GKUL4Y99cV_siLItMCQZKMX19B8MPocNsWFnkJ7z3zkrgYLSJfuvFQ&_nc_zt=14&_nc_ht=scontent-d...
...
# Meta Horizon CMI & TypeScript API 2.0: Import Images & Add Texture Animation
...
## Step 8: Texture Trigger
...
 Going into preview mode, you can now jump up and down in the trigger to test
that it changes the texture, moving forward one frame of the animation at a time.
This would be great for an instruction board, or anywhere you want users to be
...
...
# Meta Horizon CMI & TypeScript API 2.0: Import Images & Add Texture Animation
...
## Step 8: Texture Trigger
...
able to customize their experience (ie. a skybox, wall art, etc). ![46 Horizon - Jump On Button To Test.png](https://scontent-dfw5-3.xx.fbcdn.net/v/t39.2365-6/452663326_512509884620301_5661988945403216671_n.png?_nc_cat=108&ccb=1-7&_nc_sid=e280be&_nc_ohc=2GwrKr_uFmcQ7kNvwGjGAju&_nc_oc=Adm7QaO6C6ad8PIUGeADyRMnq5eQBagQJdCrRSFGLO60_Fuy1Har7UwapS4JcPzqnRo&_nc_zt=14&_nc_ht=scontent-dfw5-3...
...
# Meta Horizon CMI & TypeScript API 2.0: Import Images & Add Texture Animation
...
## Step 9: Add More Textures

 If you need more animation frames than the default 15, it is relatively easy to
add more to the script. You’ll first want to create more texture asset references on the properties
panel. In Typescript we often refer to these as “props.” An easy way to duplicate is
to click on the far right of the texture15 line of code, then Copy and Paste
(Ctrl + C and Ctrl + V). You can paste as many copies as you would like. Then
...
...
# Meta Horizon CMI & TypeScript API 2.0: Import Images & Add Texture Animation
...
## Step 9: Add More Textures
...
rename them, incrementing the number upwards. ![36 Horizon - Duplicate And Rename Props To Add More.png](https://scontent-dfw5-3.xx.fbcdn.net/v/t39.2365-6/452587750_512509877953635_1060541854433685900_n.png?_nc_cat=109&ccb=1-7&_nc_sid=e280be&_nc_ohc=7eD9dXuZsIEQ7kNvwET0CFY&_nc_oc=Adm0e9g0pbTfZE9H2yzYA6eznC5r6AsmjVOtAw-rrYfiZXxT_XZhoQOC3kJGQsTFZnM&_nc_zt=14&_nc_ht=scontent-d...
...
# Meta Horizon CMI & TypeScript API 2.0: Import Images & Add Texture Animation
...
## Step 9: Add More Textures
...
 Next, we’ll need to add these to the “textures” array. Note that in Typescript
an array is similar to a list in Codeblocks. While learning Typescript you’ll
find a lot of terms from Codeblocks have similar but different names. For instance,
you’ll often hear objects referred to as Entities, this is because Object is a
type of data in Typescript. Next, we’ll duplicate the addTextureToArray line for each new prop added, also
...
...
# Meta Horizon CMI & TypeScript API 2.0: Import Images & Add Texture Animation
...
## Step 9: Add More Textures
...
renaming to match all the new props. ![37 Horizon - Duplicate Add To Array And Rename.png](https://scontent-dfw5-3.xx.fbcdn.net/v/t39.2365-6/452916434_512509867953636_5718596235244147160_n.png?_nc_cat=108&ccb=1-7&_nc_sid=e280be&_nc_ohc=KawRq7SiwToQ7kNvwEtkJSB&_nc_oc=AdmQvst2CjTPptRnNs1jy7DB5i9M40dEQuylI2PACJ8uSsJWABGfFeBqeaeMpNv6GDc&_nc_zt=14&_nc_ht=scontent-dfw5-...
...
# Meta Horizon CMI & TypeScript API 2.0: Import Images & Add Texture Animation
...
## Step 9: Add More Textures
...
 A couple of quick things about this “addTextureToArray” function: we call a
method or function, these are similar to events in Horizon Codeblocks, but different
because they happen instantly. They also require parentheses “( )” to be
called, otherwise it is just a reference and nothing happens. Inside the parentheses is where we put parameters. Below you can see we receive
the parameter “prop” which is either an Asset or undefined. It might be
undefined because we don’t have to fill out the texture on the properties panel. We
...
...
# Meta Horizon CMI & TypeScript API 2.0: Import Images & Add Texture Animation
...
## Step 9: Add More Textures
...
account for this using an if statement to check the truthiness of the prop. ![38 Horizon - Create TextureSwappingTriggerScript.png](https://scontent-dfw5-2.xx.fbcdn.net/v/t39.2365-6/452915631_512509861286970_8320013039747796277_n.png?_nc_cat=107&ccb=1-7&_nc_sid=e280be&_nc_ohc=G5X9cMHJR2cQ7kNvwGjngmJ&_nc_oc=AdlCL4ryLhRfmRhuaJWbtDV5uqDDA5yre5xoi5cswwPzUR_VeRGxaI55B7zIF71L-nU&_nc_zt=14&_nc_ht=scontent-d...
...
# Meta Horizon CMI & TypeScript API 2.0: Import Images & Add Texture Animation
...
## Step 9: Add More Textures
...
 A lot of this will feel like magic early on, and that is totally okay! Over time
it will begin to make more and more sense. There is a lot to learn in TypeScript, so if you have any questions about the
code or want to dive deeper into how it works, be sure to ask in Discord, or check
out some of the other Typescript resources!  
...
...
# Meta Horizon CMI & TypeScript API 2.0: Import Images & Add Texture Animation
...
## Extended Learning
...
### CMI Extended Learning:

  
#### Novice

 Using the “TextureSwappingTrigger” script allows visitors to customize their
experience in your world (ie. custom textures, pictures on walls, etc).  
#### Intermediate

 Create a fire. Either using a 3D model with an animated texture, or a 2D plane
plus billboarding. Tip: Some fire animations only look good on a billboarded 2D plane. For a 3D
model, consider having intersecting planes floating above for the wispy elements of
the fire.  
#### Advanced

 Try anything with a 3D model rather than a 2D plane. If you accomplish this,
share your success in Discord!  
...
...
# Meta Horizon CMI & TypeScript API 2.0: Import Images & Add Texture Animation
...
## Extended Learning

 Below we have provided some CMI and Scripting challenges for you to try
implementing on your own. These require some outside knowledge, and we encourage you to
ask questions in Discord if you get stuck or are unsure how to complete these or
book a 1:1 mentor session.  
### CMI Extended Learning:
...
...
# Meta Horizon CMI & TypeScript API 2.0: Import Images & Add Texture Animation
...
## Scripting Extended Learning

  
#### Novice

 Build a button using the “TextureSwappingTrigger” script so your visitors can
adjust a skybox or some other texture, allowing users to customize their
experience in your world.  
#### Intermediate

 Create a grabbable object that when you press the A or B button swaps the
texture. This could be as simple as a colorful bouncy ball with various texture
options. Tip: You’ll want to have a way to run the animation X# of times. And either an
off texture (ie. 100% transparent/masked), or set the visibility to false when
not being used.  
...
...
# Meta Horizon CMI & TypeScript API 2.0: Import Images & Add Texture Animation
...
## Scripting Extended Learning
...
#### Advanced

 Add custom VFX. Think muzzle flashes, sparkles, smoke, or if you put the
animation on a 3D object (ie. a cylinder), you can attach it to a player and make
custom player effects like leveling up, taking damage, healing, etc. Tip: You’ll want to have a way to run the animation X# of times. And either an
off texture (ie. 100% transparent/masked), or set the visibility to false when
not being used.  
...
...
# Meta Horizon CMI & TypeScript API 2.0: Import Images & Add Texture Animation
...
## Scripting Extended Learning

  
#### Novice
...
#### Intermediate
...
#### Advanced
...
...
# Meta Horizon CMI & TypeScript API 2.0: Import Images & Add Texture Animation
...
## Further Assistance

 For any questions or further assistance, creators are encouraged to join the
discussion on the Discord server or to schedule a mentor session for personalized
guidance.    ![Nav Logo](https://static.xx.fbcdn.net/rsrc.php/yE/r/3SoBlk8EqOQ.svg)


[Facebook](https://www.facebook.com/MetaHorizon/)
[Threads](https://www.threads.com/@metahorizon)
[X](https://x.com/MetaHorizon)
[Instagram](https://www.instagram.com/metahorizon/)
[YouTube](https://www.youtube.com/@MetaQuestVR)

 Learn
[Documentation](https://developers.meta.com/horizon-worlds/learn/documentation/)
[Blog](https://developers.meta.com/horizon/blog/)
...
...
# Meta Horizon CMI & TypeScript API 2.0: Import Images & Add Texture Animation
...
## Further Assistance
...
[Forum](https://communityforums.atmeta.com/t5/Creator-Forum/ct-p/Meta_Horizon_Creator_Forums)

 Programs
[Meta Horizon Creator Program](https://developers.meta.com/horizon-worlds/programs/)

 My Creations
[My Worlds](https://horizon.meta.com/creator/worlds_all/?utm_source=horizon_worlds_creator)
[My Assets](https://horizon.meta.com/creator/assets/?utm_source=horizon_worlds_creator)
[Performance](https://horizon.meta.com/creator/performance/traces/?utm_source=horizon_worlds_creator)

 Privacy & Legal
[Privacy Policy](https://www.meta.com/legal/privacy-policy/)
[Legal](https://www.meta.com/legal/supplemental-terms-of-service/)

 © 2025 Meta

## Additional Links
- [Meta home](https://developers.meta.com/horizon-worlds/)
- [Login](https://developers.meta.com/login/?redirect_uri=https%3A%2F%2Fdevelopers.meta.com%2Fhorizon-worlds%2Flearn%2Fdocumentation%2Fmhcp-program%2Fcommunity-tutorials%2Fmeta-horizon-cmi--typescript-api-20-import-images--add-texture-animation%2F)
...
# Meta Horizon CMI & TypeScript API 2.0: Import Images & Add Texture Animation

  
## Introduction
...
## Image Imports
...
## Texture Swapping
...
## Step 1: Creating FBX Files
...
## Step 2: Prepare PNGs
...
## Step 3: Review Assets
...
## Step 4: Animation PNGs
...
## Step 5: Create Scripts
...
## Step 6: Animated GIF
...
## Step 7: Billboarding
...
## Step 8: Texture Trigger
...
## Step 9: Add More Textures
...
## Extended Learning
...
## Scripting Extended Learning
...
## Further Assistance
...
## Additional Links
...
      Learn
# Meta Horizon CMI & TypeScript API 2.0: Import Images & Add Texture Animation
...
