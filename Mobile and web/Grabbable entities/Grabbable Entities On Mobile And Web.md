Source: https://developers.meta.com/horizon-worlds/learn/documentation/create-for-web-and-mobile/grabbable-entities/create-grabbable-entities

# Grabbable Entities On Mobile And Web

A Grabbable entity is an entity that has **Motion** set to **Interactive**, and **Interaction** set to **Grabbable** or **Both**. Examples of grabbable entities are guns and handheld devices. They require a variety of small changes to function correctly within Meta Horizon Worlds on Web and Mobile. These changes include:

* **Set the avatar pose**: You can set the avatar pose and the animation used when holding a particular kind of grabbable. For example, a pistol is held and activated in a different way than a sword or a rifle.
* **Play avatar animations**: Since firing mechanics are driven purely by CodeBlocks, the avatar animations must also be played by CodeBlocks.
* **Set the aim direction**: For players on web and mobile, guns need to fire in a set direction, regardless of what the animation does. You can specify a fixed direction for each grabbable that overrides the firing direction.
* **Setting the action button icons**: When playing on mobile, you can declare what the action buttons represent when a grabbable is being held. For example a gun may have a fire action and a reload action. The primary button defaults to firing the same CodeBlock event as pulling the trigger on the Quest controller, so this works for most scenarios. The secondary and tertiary action buttons fire the same CodeBlock event as Button 1 and Button 2 respectively.
* **Crosshair selection**: Games commonly use crosshairs which are generated by casting a ray from the grabbable. This can cause issues when playing animations because they won’t truly represent where the gun is aiming. To remedy this, there is a custom way of overlaying a crosshair on the screen for web and mobile players.
* **Holster icon selection**: this icon will be used in the lightweight UI representing items attached to the user’s avatar, which users can interact with to switch between and equip items.

## Set the avatar pose

The avatar pose will specify the position of the avatar and the animation set that will be played while a grabbable is being held. You can choose an Avatar Pose according to how you want the user to hold and use the grabbable entity. The default pose holds the object in the player’s hand with default animations (e.g., running normally rather than aiming a weapon).

The avatar pose can be found in the properties of the grabbable entity:

- Select the grabbable entity and navigate to **...Properties**.
- Locate **More**, then select the pose you want to assign to the entity from the dropdown next to **Avatar Pose**.

## Play avatar animations

You can play avatar animations using the **Trigger grip animation for player** CodeBlock. The **Trigger grip animation for player** CodeBlock requires a reference to the player that should play the animation, and the name of the animation to play.

There are two animation names:

* **Fire**
* **Reload**

Different avatar poses will play different animations. For example, Sword plays a swinging animation when the Fire grip animation is triggered.

## Grab Anchors

If an item is held incorrectly on web and mobile, you can enable the **Use HWXS Grab Anchor** toggle in the grabbable entity properties. This allows you to set a grab anchor position and rotation so the avatar holds the item correctly.

This setting will only override the behaviour for web and mobile clients, and if disabled, the standard **VR Grab Anchor** selection will be used.

![](https://scontent-dfw5-2.xx.fbcdn.net/v/t39.2365-6/519427754_770476942156926_5720430056048818403_n.png?_nc_cat=104&ccb=1-7&_nc_sid=e280be&_nc_ohc=CR3bJkh3vtUQ7kNvwG2lfF-&_nc_oc=AdnqYb_z1CM2D2hAQINVNbVF8mDL37_wrNWCOa6V5Ov3RDVNoLlaNdLOL5nmVgz_zrw&_nc_zt=14&_nc_ht=scontent-dfw5-2.xx&_nc_gid=3yPUqODrbC9xl7z61cGcPw&oh=00_AfiriFv3m6ZxPfbDMHj0HBRykJUKVZT2lDR1_F6K3EukuA&oe=6931285D)

Alternatively, you can also set the grip anchor in VR, and then manipulate the grip hand visually.

![](https://scontent-dfw5-2.xx.fbcdn.net/v/t39.2365-6/519422621_770476948823592_8191593475986477756_n.png?_nc_cat=106&ccb=1-7&_nc_sid=e280be&_nc_ohc=2jRcOyK5H50Q7kNvwGRB8IN&_nc_oc=AdnDt559plx3dBa021uAoM8NQyNHRdePnRZhsFdiIJnOLFknJw1c5iVVFERQ2GgrUEI&_nc_zt=14&_nc_ht=scontent-dfw5-2.xx&_nc_gid=3yPUqODrbC9xl7z61cGcPw&oh=00_AfjbuuPm1Ah29oSoIu6rpjqRUACNa-tBIYaVv0aLS4xihA&oe=69312F5A)

## Disable Physics While Grabbed

To avoid hand collision issues on mobile devices, disable physics interactions for grabbable objects when held. This is especially useful when the **Motion** property is set to **Physics and Grabbable**.

### How to Disable Physics

- Select the grabbable entity and navigate to **...Properties**.
- Set **Motion** property to **Interactive**.
- In the **Interaction** dropdown, select **Physics and Grabbable**.
- Enable the **Disable physics while grabbed** toggle. This will temporarily bypass physics interactions.

![](https://scontent-dfw5-2.xx.fbcdn.net/v/t39.2365-6/519412753_770476945490259_2338891858305916899_n.png?_nc_cat=104&ccb=1-7&_nc_sid=e280be&_nc_ohc=UuEFjAoiercQ7kNvwEuW2SD&_nc_oc=AdnnvtMkaIaMMM3U9nMn6ubncj5kl7ok2U2rNZr6AEgf2YoqCb0QjMGSdZAu0PFLPhk&_nc_zt=14&_nc_ht=scontent-dfw5-2.xx&_nc_gid=3yPUqODrbC9xl7z61cGcPw&oh=00_AfgzKUS60l9qHxcQBfqP66b9TBzb3ZGOyN3q9wczuM4MNg&oe=69311B68)

## Programmatically Control Physics for Grabbable Entities

You can also programmatically control the interaction mode of grabbable entities using CodeBlocks. The following example demonstrates how to switch between different interaction modes when an entity is grabbed and released:

```
import * as hz from 'horizon/core';

class PhysicsGrabbable extends hz.Component<typeof PhysicsGrabbable> {
  start() {
    // Set the initial interaction mode to Grabbable
    this.connectCodeBlockEvent(this.entity, hz.CodeBlockEvents.OnGrabStart, () => {
      this.entity.interactionMode.set(hz.EntityInteractionMode.Grabbable);
    });

    // When the entity is released, switch back to Physics and Grabbable
    this.connectCodeBlockEvent(this.entity, hz.CodeBlockEvents.OnGrabEnd, () => {
      this.entity.interactionMode.set(hz.EntityInteractionMode.Both);
    });
  }
}

hz.Component.register(PhysicsGrabbable);
```

This component listens for grab events and changes the entity’s interaction mode accordingly. When grabbed, it sets the mode to `Grabbable`, and when released, it sets it back to `Both` (which allows both physics and grabbable interactions).

## Set the aim direction

You can use the GrabbableAim property to specify the direction a weapon points when it’s held. Without this, the firing direction of the weapon is driven by animation, which leads to unpredictable results. The aim direction allows you to specify a true aiming reference for projectile launchers that are linked to a grabbable entity, for web and mobile players.

The **GrabbableAim** property represents the position and orientation in which bullets travel, and you can click and drag it into a new position. This setting ensures the gun aims toward the reticle in the center of the screen, while maintaining any ProjectileLauncher offsets for web and mobile players.

The Grab Aim Position and Rotation relates only to Projectile Launchers that are owned by the player. Ensure you set the ownership of the projectile launcher to the player during grab for this feature to work as expected. Having the local player own the launcher will also provide the benefit of instant projectile launcher feedback.

## Set the action button icons

You can use the action button icons to determine which control icons are visible on mobile devices. You can select which icons are visible for grabbable entities by selecting the entity and then choosing the action icons for **Primary Action Icon**, **Secondary Action Icon**, and **Tertiary Action Icon**. Setting action icons for any of these is optional. By default, all action buttons will show for a grabbable entity, with a generic action icon for each button.

To select an action icon, select the **Primary Action Icon**, **Secondary Action Icon** or **Tertiary Action Icon** dropdown, and then choose the most appropriate icon for the intended action. Selecting None removes the control from the screen. You should select **None** if you don’t intend to use Primary, Secondary or Tertiary action buttons on the grabbable entity.

### Hide action buttons by default

You can hide all action buttons for every grabbable entity by default, so that grabbable entities only display the buttons where the action icons have been explicitly set. The available actions and the icons can then be individually enabled. This setting can be enabled in the Player Settings.

### Manage button presses

Each action button is hooked up to a CodeBlock event that fires when the player holds the grabbable entity with the script attached, and presses the appropriate action button. You can use CodeBlocks to catch these events and then trigger functionality in the world.

### Available action icons

The pool of available icons grows continually. The following table lists examples of icons that you can set for controls on web and mobile.

## Crosshair selection

Picking up a grabbable item in Meta Horizon Worlds for web and mobile displays a crosshair in the center of the screen. By default, this crosshair is a dot. You can change the crosshair type using the Crosshair Type property on grabbable entities.

Current crosshair options include:

* **None**
* **Dot**
* **Cross**
* **Spread**

## Configurable Interaction Range

The interaction range for grabbable entities can be configured to control how close a player must be to interact with the entity. Adjusting this range allows you to fine-tune the user experience for different types of interactions and device inputs.

By increasing the interaction range, you make it easier for players—especially on web and mobile platforms—to interact with objects without needing precise positioning. Conversely, reducing the range requires more deliberate player movement, which may be desirable for certain gameplay mechanics.

| Interactivity Option | Explanation |
| --- | --- |
| Targeting Delay After Release | Time to wait after releasing an interaction before targeting the same object again, preventing rapid re-triggering. |
| Perfect Rank Distance | Ideal distance where an interaction target has the highest priority in targeting. |
| Max Distance | Maximum distance to target or interact. Beyond this range, targeting is disabled. |
| Distance Rank Multiplier | Multiplier scaling the importance of distance in targeting priority calculations. |
| Perfect Rank Angle | Ideal angle (degrees) between player’s forward direction and target for highest priority. |
| Max Angle | Maximum angle at which an object can be targeted; objects outside this angle are ignored. |
| Angle Rank Multiplier | A multiplier that scales the importance of angle in the targeting ranking calculation. |
| Bypass Line of Sight | Allows targeting or grabbing objects without direct line of sight when enabled. |
| Use Raycast Direction | Determines whether the targeting uses the direction of a raycast instead of a fixed shoulder-to-hand direction. |
| Use Grab Anchors | Uses predefined grab anchor points on an object for targeting and interaction. |

### Setting the Configurable Interaction Range

The interaction range setting is available in the Properties panel of the interactable entity, allowing creators to customize the effective distance at which the entity can be interacted with.

![](https://scontent-dfw5-2.xx.fbcdn.net/v/t39.2365-6/524627770_776044151600205_8550447281540913694_n.png?_nc_cat=100&ccb=1-7&_nc_sid=e280be&_nc_ohc=22EEJa7jx-YQ7kNvwHS9Ul9&_nc_oc=AdmOLHrvLtsS-tAF6JEXuMO2HkwMqmWDqzDETJZXMOHae8JCwicp_SEWQVtQRiwexN8&_nc_zt=14&_nc_ht=scontent-dfw5-2.xx&_nc_gid=3yPUqODrbC9xl7z61cGcPw&oh=00_AfiMGJqz68kU3xlQKQJ7g8MR-ex2vKkFkRlaKPPrviRmUg&oe=6931138A)