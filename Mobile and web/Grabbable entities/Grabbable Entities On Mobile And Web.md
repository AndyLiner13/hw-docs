Source: https://developers.meta.com/horizon-worlds/learn/documentation/create-for-web-and-mobile/grabbable-entities/create-grabbable-entities

# Grabbable Entities On Mobile And Web

A Grabbable entity is an entity that has **Motion** set to **Interactive**, and **Interaction** set to **Grabbable** or **Both**. Examples of grabbable entities are guns and handheld devices. They require a variety of small changes to function correctly within Meta Horizon Worlds on Web and Mobile. These changes include:

* **Set the avatar pose**: You can set the avatar pose and the animation used when holding a particular kind of grabbable. For example, a pistol is held and activated in a different way than a sword or a rifle.
* **Play avatar animations**: Since firing mechanics are driven purely by CodeBlocks, the avatar animations must also be played by CodeBlocks.
* **Set the aim direction**: For players on web and mobile, guns need to fire in a set direction, regardless of what the animation does. You can specify a fixed direction for each grabbable that overrides the firing direction.
* **Setting the action button icons**: When playing on mobile, you can declare what the action buttons represent when a grabbable is being held. For example a gun may have a fire action and a reload action. The primary button defaults to firing the same CodeBlock event as pulling the trigger on the Quest controller, so this works for most scenarios. The secondary and tertiary action buttons fire the same CodeBlock event as Button 1 and Button 2 respectively.
* **Crosshair selection**: Games commonly use crosshairs which are generated by casting a ray from the grabbable. This can cause issues when playing animations because they won’t truly represent where the gun is aiming. To remedy this, there is a custom way of overlaying a crosshair on the screen for web and mobile players.
* **Holster icon selection**: this icon will be used in the lightweight UI representing items attached to the user’s avatar, which users can interact with to switch between and equip items.

## Set the avatar pose

The avatar pose will specify the position of the avatar and the animation set that will be played while a grabbable is being held. You can choose an Avatar Pose according to how you want the user to hold and use the grabbable entity. The default pose holds the object in the player’s hand with default animations (e.g., running normally rather than aiming a weapon).

The avatar pose can be found in the properties of the grabbable entity:

- Select the grabbable entity and navigate to **...Properties**.
- Locate **More**, then select the pose you want to assign to the entity from the dropdown next to **Avatar Pose**.

## Play avatar animations

You can play avatar animations using the **Trigger grip animation for player** CodeBlock. The **Trigger grip animation for player** CodeBlock requires a reference to the player that should play the animation, and the name of the animation to play.

There are two animation names:

* **Fire**
* **Reload**

Different avatar poses will play different animations. For example, Sword plays a swinging animation when the Fire grip animation is triggered.

## Grab Anchors

If an item is held incorrectly on web and mobile, you can enable the **Use HWXS Grab Anchor** toggle in the grabbable entity properties. This allows you to set a grab anchor position and rotation so the avatar holds the item correctly.

This setting will only override the behaviour for web and mobile clients, and if disabled, the standard **VR Grab Anchor** selection will be used.

<details>
<summary>Image Content</summary>

<p></p>

[All image details and metadata](../../image_data/6d25ec2e6064db0c3fd58795e7e802b2c78f10ac7e6a8e1875ab747da8d3f9b3.md)

### Overview
This image depicts a settings interface with various configuration options related to collision events and grab anchors. The layout is structured with labels on the left and corresponding input fields or toggle switches on the right.

### Key Elements
- **Collision Events From**: A dropdown menu labeled "Nothing" indicating no specific collision events are currently selected.
- **Use Grab Lock**: A toggle switch that is off, indicated by its unselected state.
- **Use Grab Anchor**: A toggle switch that is on, indicated by its selected state.
- **Grab Anchor... X -40 Y -10 Z 0**: An input field showing coordinates for one grab anchor.
- **Grab Anchor... X -15 Y 90 Z 0**: Another input field showing coordinates for another grab anchor.
- **Use Per Hand Grab Anchors**: A toggle switch that is off.
- **Grab Aim P... X 11.61 Y 0.71 Z 0.27**: An input field showing coordinates for a grab aim point.
- **Grab Aim R... X 0 Y 90 Z 0**: Another input field showing coordinates for a grab aim rotation.
- **Avatar Pose**: A dropdown menu set to "Pistol".

### Visual Flow / Relationships
The interface is organized in a grid-like structure with labels on the left and corresponding input fields or toggle switches on the right. The toggles and input fields are arranged vertically under their respective labels. The most prominent visual elements are the toggle switches, as they stand out due to their distinct blue color when selected.

</details>

<p></p>



Alternatively, you can also set the grip anchor in VR, and then manipulate the grip hand visually.

<details>
<summary>Image Content</summary>

<p></p>

[All image details and metadata](../../image_data/40a41f42559e37dca94829db1f8e542f174df5a29a21f9339ecba62cb20b4d04.md)

### Overview
The image depicts a 3D model of a futuristic-looking weapon, likely a blaster or energy gun, with a user interface overlaying part of the scene. The weapon has a sleek design with green accents and a blue energy effect emanating from its barrel. A floating interface window is visible above the weapon, displaying various settings and attributes related to the object.

### Key Elements
1. **Weapon Model**
   - **Visual description**: A 3D model of a blaster with a cylindrical barrel and a handle.
   - **Location**: Bottom-left quadrant of the image.
   - **Contents**: The model includes a green circular detail near the barrel and a blue energy effect at the end of the barrel.
   - **Visual styling**: The weapon has a metallic finish with green highlights.

2. **User Interface Window**
   - **Visual description**: A rectangular window with a dark background and light-colored text.
   - **Location**: Top-right quadrant of the image.
   - **Contents**: Contains multiple fields and toggles, such as "Attribute," "Colliding Type," "On," "Visible," "Collidable," "Motion," and "Attached."
   - **Visual styling**: The window has a semi-transparent black background with white and purple text, and a small 'X' icon in the top-right corner.

### Visual Flow / Relationships
- **Most prominent visually**: The blaster model is the focal point due to its size and central placement.
- **Arrows, lines, connectors**: There are no explicit arrows or lines connecting elements within the image.
- **Spatial relationships**: The interface window is positioned above the blaster model, suggesting it is a tool for interacting with or modifying the weapon.

</details>

<p></p>



## Disable Physics While Grabbed

To avoid hand collision issues on mobile devices, disable physics interactions for grabbable objects when held. This is especially useful when the **Motion** property is set to **Physics and Grabbable**.

### How to Disable Physics

- Select the grabbable entity and navigate to **...Properties**.
- Set **Motion** property to **Interactive**.
- In the **Interaction** dropdown, select **Physics and Grabbable**.
- Enable the **Disable physics while grabbed** toggle. This will temporarily bypass physics interactions.

<details>
<summary>Image Content</summary>

<p></p>

[All image details and metadata](../../image_data/cbfc73e991535a4ee3b998ab855bb2cdfc539779494b7fb50a382964118fb81f.md)

### Overview
This image displays a user interface snippet featuring two interactive dropdown menus within a dark-themed interface. The layout includes a sidebar on the left and a content area on the right.

### Key Elements
- **Sidebar (Left Panel)**: Located on the left side, containing two menu items labeled "Motion" and "Interaction". The text is white against a dark background.
- **Interactive Dropdown (Top Right)**: Positioned at the top right, it has a white background with a dark border. The text "Interactive" is displayed inside, accompanied by a downward-facing arrow indicating a dropdown functionality.
- **Physics and Grabbable Dropdown (Bottom Right)**: Below the "Interactive" dropdown, another similar white-background dropdown is visible. It contains the text "Physics and Grabbable".

### Visual Flow / Relationships
The most prominent elements are the two dropdown menus. The "Interactive" dropdown is slightly more prominent due to its placement at the top right compared to the "Physics and Grabbable" dropdown below it. There are no arrows or lines connecting the elements, suggesting a linear reading order moving from left to right and then down.

</details>

<p></p>



## Programmatically Control Physics for Grabbable Entities

You can also programmatically control the interaction mode of grabbable entities using CodeBlocks. The following example demonstrates how to switch between different interaction modes when an entity is grabbed and released:

```
import * as hz from 'horizon/core';

class PhysicsGrabbable extends hz.Component<typeof PhysicsGrabbable> {
  start() {
    // Set the initial interaction mode to Grabbable
    this.connectCodeBlockEvent(this.entity, hz.CodeBlockEvents.OnGrabStart, () => {
      this.entity.interactionMode.set(hz.EntityInteractionMode.Grabbable);
    });

    // When the entity is released, switch back to Physics and Grabbable
    this.connectCodeBlockEvent(this.entity, hz.CodeBlockEvents.OnGrabEnd, () => {
      this.entity.interactionMode.set(hz.EntityInteractionMode.Both);
    });
  }
}

hz.Component.register(PhysicsGrabbable);
```

This component listens for grab events and changes the entity’s interaction mode accordingly. When grabbed, it sets the mode to `Grabbable`, and when released, it sets it back to `Both` (which allows both physics and grabbable interactions).

## Set the aim direction

You can use the GrabbableAim property to specify the direction a weapon points when it’s held. Without this, the firing direction of the weapon is driven by animation, which leads to unpredictable results. The aim direction allows you to specify a true aiming reference for projectile launchers that are linked to a grabbable entity, for web and mobile players.

The **GrabbableAim** property represents the position and orientation in which bullets travel, and you can click and drag it into a new position. This setting ensures the gun aims toward the reticle in the center of the screen, while maintaining any ProjectileLauncher offsets for web and mobile players.

The Grab Aim Position and Rotation relates only to Projectile Launchers that are owned by the player. Ensure you set the ownership of the projectile launcher to the player during grab for this feature to work as expected. Having the local player own the launcher will also provide the benefit of instant projectile launcher feedback.

## Set the action button icons

You can use the action button icons to determine which control icons are visible on mobile devices. You can select which icons are visible for grabbable entities by selecting the entity and then choosing the action icons for **Primary Action Icon**, **Secondary Action Icon**, and **Tertiary Action Icon**. Setting action icons for any of these is optional. By default, all action buttons will show for a grabbable entity, with a generic action icon for each button.

To select an action icon, select the **Primary Action Icon**, **Secondary Action Icon** or **Tertiary Action Icon** dropdown, and then choose the most appropriate icon for the intended action. Selecting None removes the control from the screen. You should select **None** if you don’t intend to use Primary, Secondary or Tertiary action buttons on the grabbable entity.

### Hide action buttons by default

You can hide all action buttons for every grabbable entity by default, so that grabbable entities only display the buttons where the action icons have been explicitly set. The available actions and the icons can then be individually enabled. This setting can be enabled in the Player Settings.

### Manage button presses

Each action button is hooked up to a CodeBlock event that fires when the player holds the grabbable entity with the script attached, and presses the appropriate action button. You can use CodeBlocks to catch these events and then trigger functionality in the world.

### Available action icons

The pool of available icons grows continually. The following table lists examples of icons that you can set for controls on web and mobile.

## Crosshair selection

Picking up a grabbable item in Meta Horizon Worlds for web and mobile displays a crosshair in the center of the screen. By default, this crosshair is a dot. You can change the crosshair type using the Crosshair Type property on grabbable entities.

Current crosshair options include:

* **None**
* **Dot**
* **Cross**
* **Spread**

## Configurable Interaction Range

The interaction range for grabbable entities can be configured to control how close a player must be to interact with the entity. Adjusting this range allows you to fine-tune the user experience for different types of interactions and device inputs.

By increasing the interaction range, you make it easier for players—especially on web and mobile platforms—to interact with objects without needing precise positioning. Conversely, reducing the range requires more deliberate player movement, which may be desirable for certain gameplay mechanics.

| Interactivity Option | Explanation |
| --- | --- |
| Targeting Delay After Release | Time to wait after releasing an interaction before targeting the same object again, preventing rapid re-triggering. |
| Perfect Rank Distance | Ideal distance where an interaction target has the highest priority in targeting. |
| Max Distance | Maximum distance to target or interact. Beyond this range, targeting is disabled. |
| Distance Rank Multiplier | Multiplier scaling the importance of distance in targeting priority calculations. |
| Perfect Rank Angle | Ideal angle (degrees) between player’s forward direction and target for highest priority. |
| Max Angle | Maximum angle at which an object can be targeted; objects outside this angle are ignored. |
| Angle Rank Multiplier | A multiplier that scales the importance of angle in the targeting ranking calculation. |
| Bypass Line of Sight | Allows targeting or grabbing objects without direct line of sight when enabled. |
| Use Raycast Direction | Determines whether the targeting uses the direction of a raycast instead of a fixed shoulder-to-hand direction. |
| Use Grab Anchors | Uses predefined grab anchor points on an object for targeting and interaction. |

### Setting the Configurable Interaction Range

The interaction range setting is available in the Properties panel of the interactable entity, allowing creators to customize the effective distance at which the entity can be interacted with.

<details>
<summary>Image Content</summary>

<p></p>

[All image details and metadata](../../image_data/d6e23ecbb184eacf3ae1615820aef5d5b2bfd478be01a32ac7a2074dd97d8064.md)

### Overview
The image displays a user interface element showing settings for an interactive object within a game development environment. The left side of the image shows a 3D model of a weapon-like object, while the right side contains a settings menu with various parameters listed under categories such as "Interactivity," "Physics," and "Navigation."

### Key Elements
- **Left Panel (3D Model)**: A 3D model resembling a gun with a scope is shown. It has a brown handle, a blue barrel, and a purple grip. There is a small gray triangle at the top with an upward-pointing arrow.
- **Right Panel (Settings Menu)**:
  - **Header**: "This object has no tags"
  - **Interactivity Section**:
    - **Targeting Delay After Release**: 0.00
    - **Perfect Rank Distance**: 0.30
    - **Max Distance**: 2.50
    - **Distance Rank Multiplier**: 0.10
    - **Perfect Rank Angle**: 1.00
    - **Max Angle**: 45.00
    - **Angle Rank Multiplier**: 1.00
    - **Bypass Line of Sight**: Toggle switch (off)
    - **Uses Raycast Direction**: Toggle switch (off)
    - **Use Grab Anchors**: Toggle switch (off)
  - **Physics Section**:
    - **Physics Audio Material**: Dropdown menu set to "None"
  - **Navigation Section**: Partially visible but not fully expanded.

### Visual Flow / Relationships
The left panel shows the 3D model, which is likely the object being configured. The right panel lists various parameters that can be adjusted for this object. The parameters are organized into sections, and the interactivity settings are most prominent due to their larger font size compared to the other sections. The settings are arranged vertically, with each parameter followed by its value or toggle switch.

</details>

<p></p>

