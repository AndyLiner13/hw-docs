Source: https://developers.meta.com/horizon-worlds/learn/documentation/desktop-editor/assets/data-as-an-asset

# Data as an Asset

Data as an Asset makes it easier to ingest and access a large amount of data. You can use this data to generate and populate your worlds with content for players as part of a live service model.

<details>
<summary>Image Content</summary>

<p></p>

[All image details and metadata](../../../../images/output/img_20251211_020630_20251211_020630.md)

### Overview
The image is a collage of four screenshots showcasing a user interface related to asset management and upload processes. The central theme revolves around uploading assets through desktop or web interfaces.

### Key Elements
1. **Left Panel (Top Left Corner):**
   - **Visual description:** A dark-themed sidebar menu.
   - **Location:** Top-left corner.
   - **Contents:** Contains options such as "Folder," "3D Model," "Audio," "Material," "Skydome," "Texture," and "Text."
   - **Visual styling:** Dark background with light-colored text and icons.

2. **Code Snippet (Top Center):**
   - **Visual description:** A code snippet displayed in a monospaced font.
   - **Location:** Top-center.
   - **Contents:** Contains JSON-like data entries with keys such as `"qns_type"`, `"difficulty"`, `"category"`, `"question"`, `"correct_answer"`, and `"incorrect_answers"`.
   - **Visual styling:** Black background with white and orange text.

3. **Asset Upload Interface (Right Center):**
   - **Visual description:** A window titled "View All" showing a list of assets under "My Worlds" and "My Assets."
   - **Location:** Right-center.
   - **Contents:** Includes a search bar, a dropdown menu with options like "3D model," "Sound," "Texture," and "Text," and a thumbnail preview of an asset labeled "trivia."
   - **Visual styling:** Light background with blue and purple accents.

4. **Console Output (Bottom Center):**
   - **Visual description:** A console-like interface displaying messages and JSON data.
   - **Location:** Bottom-center.
   - **Contents:** Messages include "JSON question," "JSON correct_answer," and "JSON incorrect_answers," along with timestamps.
   - **Visual styling:** Dark background with white text.

5. **Message Box (Bottom Left):**
   - **Visual description:** A message box indicating the number of items in the console.
   - **Location:** Bottom-left.
   - **Contents:** Displays "Clear" and a count of 211 items.
   - **Visual styling:** Dark background with light text.

### Visual Flow / Relationships
- **Most prominent visually:** The central focus is on the asset upload interface in the right-center screenshot.
- **Arrows and lines:** Arrows connect the left panel to the code snippet, the code snippet to the asset upload interface, and the asset upload interface to the console output.
- **Spatial relationships:** Elements are arranged in a linear flow, starting from the left panel, moving to the code snippet, then to the asset upload interface, and finally to the console output.

</details>

<p></p>



## Requirements

* For Web Asset ingestion, you need access to your team’s Asset Library to upload the assets to the library.

## Uploading Assets to the backend

### Web Asset upload

<details>
<summary>Image Content</summary>

<p></p>

[All image details and metadata](../../../../images/output/img_20251211_020819_20251211_020819.md)

### Overview
This image depicts a user interface for managing assets within a platform named Meta Horizon. The layout includes a sidebar with navigation options and a main content area displaying asset management features.

### Key Elements
- **Sidebar (Left Panel)**:
  - **My Worlds**: Contains a location pin icon and the text "My Worlds."
  - **My Assets**: Contains a folder icon and the text "My Assets," which is highlighted in blue, indicating selection.
  - **Create New Folder**: A button labeled "+ Create New Folder."
  - **View All**: Contains a folder icon and the text "View All."
  - **Removed Assets**: Contains a trash bin icon and the text "Removed Assets."

- **Main Content Area (Right Panel)**:
  - **Header**: Displays "My Assets" at the top.
  - **Search Bar**: Located below the header, with the placeholder text "Search assets."
  - **Import Button**: Positioned in the top-right corner, labeled "+ Import."
  - **Asset Placeholder**: An illustration of a person holding a pencil, sitting at a desk with a window behind them. Below the illustration, the text "No assets yet" is displayed.
  - **Text Input Box**: A floating input box with the word "Text" inside, outlined in yellow.

### Visual Flow / Relationships
The layout follows a standard sidebar and main content structure. The sidebar is on the left, and the main content area occupies the right side. The "My Assets" option in the sidebar is expanded, revealing its contents. The main content area displays a placeholder for assets, with the "Import" button and search bar above the asset placeholder. The floating text input box is positioned prominently near the top-right of the main content area.

</details>

<p></p>



[](https://video-dfw5-1.xx.fbcdn.net/v/t42.1790-2/453692983_3416887951779596_1166922568651522418_n.mp4?_nc_cat=110&ccb=1-7&_nc_sid=6500a6&_nc_ohc=xeZDTr4R5r8Q7kNvwHWfpXY&_nc_oc=AdmHgJdRiBQ64jCnaLYf58bFtvE-J2uiRcX64tR0Bp7OQhtT3eW9nQYhoLRXnC24yjA&_nc_zt=28&_nc_ht=video-dfw5-1.xx&_nc_gid=mJqCkzvNjF8Afc9j80NJ_w&oh=00_Afm_vbz-VaHSAfZTJ5VOhjqcOFLejsRQdlPXFH4Ra-H61g&oe=693757B2)

**Note**: We currently only accept JSON files.

- Go to <https://horizon.meta.com/creator/assets>
- Click **Import**, and select **Text**.
- Upload the asset. We only allow JSONs for now. You can use any valid .json you have, or download and upload the attached gamedatanew.JSON file at the bottom of the page.
  * [gamedatanew.json](https://scontent-dfw5-2.oculuscdn.com/v/t64.5771-25/39031405_1040126593784425_5457484484185452287_n.json?_nc_cat=107&ccb=1-7&_nc_sid=e280be&_nc_ohc=Iduzqb_0rX0Q7kNvwHFXx_r&_nc_oc=AdknLbUFXFPoBq9Tb0-vRh-c_4qJTtpFOptO_yduwHCNDbxxvlbioNMz-rBMtyUEZqU&_nc_zt=3&_nc_ht=scontent-dfw5-2.oculuscdn.com&oh=00_Afl4aXD9mWUfQ2G7B4jaIth3vuRUL4KdSdYs7StCcPZ2jA&oe=694BBAC7)
- You can download, edit and do other things with the Asset file, but this UI is the just the same as the Web Asset Ingestion UI.

### Desktop asset upload

<details>
<summary>Image Content</summary>

<p></p>

[All image details and metadata](../../../../images/output/img_20251211_020925_20251211_020925.md)

### Overview
This image depicts a user interface from a 3D modeling or game development software. The main focus is on the asset management section, showing a dropdown menu under the "Add New" button. The interface includes a viewport displaying a simple 3D scene, along with various toolbars and panels for navigation and asset management.

### Key Elements
- **Viewport**: Located centrally, showing a 3D scene with a flat ground plane and a blue sky. The grid is visible on the ground plane.
- **Add New Button**: Positioned at the bottom left of the screen, highlighted with a yellow box. It has a downward arrow indicating a dropdown menu.
- **Dropdown Menu**: Appears when the "Add New" button is clicked. Contains options such as "Folder," "3D Model," "Audio," "Material," "Skydome," "Texture," and "Text." The "Text" option is also highlighted with a yellow box.
- **Asset Panel**: Below the viewport, showing three icons labeled "Rifle," "SingleBlock," and "StoneFloor."
- **Search Bar**: At the bottom right, labeled "Search My Assets."
- **Navigation Tabs**: Above the viewport, tabs labeled "Assets," "Console," and "Tests."
- **Hierarchy Panel**: On the left side, showing a tree structure with "SpawnPoint" and a search bar above it.

### Visual Flow / Relationships
The most prominent visual elements are the "Add New" button and its dropdown menu, which are central to the action depicted. The dropdown menu is the focal point of interaction, suggesting that the user is about to add a new asset. The viewport serves as the backdrop, providing context for the 3D environment being managed. The asset panel and search bar provide additional functionality for managing assets within the software.

</details>

<p></p>



[](https://video-dfw5-1.xx.fbcdn.net/v/t42.1790-2/453534048_1010445640344215_7233222472795927828_n.mp4?_nc_cat=103&ccb=1-7&_nc_sid=6500a6&_nc_ohc=m6gDuS5sYasQ7kNvwFrKRSY&_nc_oc=Adl65IFWPtOjEOe4aktCcpb2Ift3K7_Q2HcwhhnzBMln6ZyWG1hPNL3V0Acd6t5o-Jw&_nc_zt=28&_nc_ht=video-dfw5-1.xx&_nc_gid=mJqCkzvNjF8Afc9j80NJ_w&oh=00_AfnlqJGwH2bJgklD1n4fUqcUIf3hnPZpIZtlS0vHk7guig&oe=6937469D)

**Note**: We currently only accept JSON files.

- Open the Desktop Editor for Horizon.
- Click **Add New**, and select **Text**.
- Upload the asset. We only allow JSONs for now. You can use any valid json you have, or download and upload the attached gamedatanew.json file at the bottom of the page.
  * [gamedatanew.json](https://scontent-dfw5-2.oculuscdn.com/v/t64.5771-25/39031405_1040126593784425_5457484484185452287_n.json?_nc_cat=107&ccb=1-7&_nc_sid=e280be&_nc_ohc=Iduzqb_0rX0Q7kNvwHFXx_r&_nc_oc=AdknLbUFXFPoBq9Tb0-vRh-c_4qJTtpFOptO_yduwHCNDbxxvlbioNMz-rBMtyUEZqU&_nc_zt=3&_nc_ht=scontent-dfw5-2.oculuscdn.com&oh=00_Afl4aXD9mWUfQ2G7B4jaIth3vuRUL4KdSdYs7StCcPZ2jA&oe=694BBAC7)
- You can download, edit and do other things with the Asset file, but this UI is the just the same as the Desktop Asset Ingestion UI.

## Using the asset in TypeScript

[](https://video-dfw5-3.xx.fbcdn.net/v/t42.1790-2/453779137_471685212139725_99150541362208074_n.mp4?_nc_cat=109&ccb=1-7&_nc_sid=6500a6&_nc_ohc=vapuhNQXgl8Q7kNvwGVWHQ2&_nc_oc=Adl_A-JgLk8A69tLcszEQt9d6kChWxCmHAN84ijtDbGK9KEYiWjLq2b6EiGcoGaISUs&_nc_zt=28&_nc_ht=video-dfw5-3.xx&_nc_gid=mJqCkzvNjF8Afc9j80NJ_w&oh=00_AflINHB2zWrn2L5pvebnuwk0XCZHtHh6kOb2BKJEaThkZA&oe=6937472A)

Now that your asset is uploaded, you can pull the data from the asset to the TypeScript layer.

There are 2 ways to do this:

- Getting the reference to the asset in a component.
- Or, Creating a reference to the asset by providing the Asset ID, optionally, Asset version ID.

### Getting the reference to the asset in a component.

- Using a component, for example, your game manager, create a reference to a text asset.
- Pick from your available assets.
- Please note that your world will be referencing the Asset version at the moment of assigning. Updates to the Asset will not be reflected until you give a new reference to the asset. If you want your world to reference the latest version of the asset, use the method below of creating a new asset with ID reference.

### Creating a reference to the asset by providing the asset ID, optionally, asset version ID

- Create a new Asset, with an Asset ID. You can obtain this by inspecting the asset in your Desktop Editor Asset Library interface, or the Web Asset Library interface. Create a new Asset, with an Asset ID. You can obtain this by inspecting the asset in your Desktop Editor Asset Library interface, or the Web Asset Library interface.
- You can optionally provide the Asset version ID when creating the Asset. You can find this Asset version ID in the Web Asset Library interface.Your world will reference that version of the asset even if the Asset is updated.You can optionally provide the Asset version ID when creating the Asset. You can find this Asset version ID in the [Web Asset Library interface](https://horizon.meta.com/creator/assets). Your world will reference that version of the asset even if the Asset is updated.
  <details>
<summary>Image Content</summary>

<p></p>

[All image details and metadata](../../../../images/output/img_20251211_021016_20251211_021016.md)

### Overview
The image displays a modal window titled "trivia" that appears over a blurred background labeled "My Assets." The modal contains version details, asset information, and a download option. The background behind the modal shows two assets named "trivia" and "TriviaAssetGroup."

### Key Elements
- **Modal Window Title**: "trivia"
- **Version Details Section**: Contains a version number highlighted in yellow (`8388721047846104`) and a timestamp (`August 15 at 2:32 PM`).
- **Asset Details Section**: Includes fields such as "Description," "Folder," "Creator," "Last edited," and "Asset ID."
- **Download Button**: Located at the bottom right of the modal.
- **Background**: Blurred view of "My Assets" folder showing two assets with gradient backgrounds and cube icons.

### Visual Flow / Relationships
The most prominent visual element is the modal window itself, which overlays the background. The version details and asset information are arranged vertically within the modal. The download button is positioned at the bottom right, indicating a secondary action. There are no arrows or lines connecting elements, suggesting a linear reading order from top to bottom.

</details>

<p></p>


- To reference the latest version of the Asset whenever it is updated, create a new Asset Object with the ID, but do not provide the optional version ID.
- For example `let asset = new Asset(ASSET_ID_BIGINT_HERE);`
- Please note that Asset loads are cached. If you are running the world, load the Asset and update it in the backend any new Asset loads will be the ones at time of asset load. You must restart the world to get your latest uploaded Asset version.

Once you retrieve the reference to the Asset object, you can fetch its data and use the following APIs to pull the asset as an object. Within the object, there are

* `asJson()`. You can provide an expected type to ensure that the JSON returned is of the intended type.
* `asText()`.

This script verifies whether you are able to pull asset data as a string:

```
import * as hz from 'horizon/core';

interface JSONData {
  qns_type: string;
  difficulty: string;
  category: string;
  question: string;
  correct_answer: string;
  incorrect_answers: string[];
}

/* Here's an example of the JSON data that will be passed in:
[
  {
    "qns_type": "boolean",
    "difficulty": "medium",
    "category": "General Knowledge",
    "question": "Why did the chicken cross the road",
    "correct_answer": "False",
    "incorrect_answers": [
      "True"
    ]
  },
  {
    "qns_type": "boolean",
    "difficulty": "medium",
    "category": "General Knowledge",
    "question": "Why did the cow go moo.",
    "correct_answer": "True",
    "incorrect_answers": [
      "False"
    ]
  }
]
*/

class CheckAssetIntegrity extends hz.Component<typeof CheckAssetIntegrity> {

  static propsDefinition = {
    textAsset: { type: hz.PropTypes.Asset },
  };

  allQnsData: JSONData[] | null = null;

  // called on world start

   async start() {
    let asset = this.props.textAsset!;

    /*
    // create a new Asset and do not provide the version id
    // if you want to reference the latest version
    // of the Asset
    let asset = new Asset(ASSET_ID_BIGINT_HERE); //
    */
    asset.fetchAsData().then((output: hz.AssetContentData) => {
      console.warn(asset.id + " \n" + asset.versionId);
      this.handleExtractAssetContentData(output);
    })
  }

  handleExtractAssetContentData(output: hz.AssetContentData) {
    var text = output.asText();
    console.log("Total text length: ", text.length);
    console.log("First 10 characters of the text for verification: ", text.substring(0, 10));
    console.log("==================================");
    var jsobj = output.asJSON();
    if (jsobj == null || jsobj == undefined) {
      console.error("null jsobj");
      return;
    }
    else {
      this.allQnsData = output.asJSON<JSONData[]>();
    }
  }
}

// This tells the UI that your component can be attached to an entity
hz.Component.register(CheckAssetIntegrity);
```

### Fetch asset options

The options parameter of the fetchAsData method provides the skipCache option, which skips the local cache when fetching asset data. To enable this option, set the skipCache option to true. This option is disable by default.

Enabling skipCache is only useful if you expect the asset that you are referencing to change while the world instance is running, and you have already accessed the asset. For example, if you modify your world assets in response to a live event outside of your live world instances. This is a rare circumstance so you should not enable skipCache most of the time.

## Examples

* A sample JSON file (trivia.json) with trivia questions in a JSON format. (More questions can be accessed via trivia APIs, such as [Open Trivia DB](https://opentdb.com/api_config.php)).
  + [trivia.json](https://scontent-dfw5-3.oculuscdn.com/v/t64.5771-25/39031427_790113296532639_7185274403668060489_n.json?_nc_cat=109&ccb=1-7&_nc_sid=e280be&_nc_ohc=PUdzZuIC_bQQ7kNvwF2bByb&_nc_oc=AdlA206TGu8ekJhZosUISMk5Y7opqDexOHHmfAz2TgsRZ3TVM7qBL7jSj4oxhJg4lOM&_nc_zt=3&_nc_ht=scontent-dfw5-3.oculuscdn.com&oh=00_AfmsnJ-l0kDUbCbYS-ijOiUFZQp92sXEeRRmC47xKxMRLg&oe=694BB903)
* A Trivia world with a game manager script to load these questions from that JSON asset.
* A simple trigger script to allow for users to answer these trivia questions.
* You are able to load versions of Text Assets that were before the current version. This is helpful if you want to lock a version of the Asset to a particular world. You can do this by providing the actual values of the Asset IDs and the version IDs, like the code sample below. You may find more information regarding this in the asset templates.

  ```
    const assetId = BigInt(this.props.assetID); // use a string
    const versionId = BigInt(this.props.assetVerID);  // use a string
    asset = new hz.Asset(assetId, versionId);
  ```

<details>
<summary>Image Content</summary>

<p></p>

[All image details and metadata](../../../../images/output/img_20251211_021108_20251211_021108.md)

### Overview
The image displays a modal window titled "trivia" that appears over a blurred background labeled "My Assets." The modal contains version details, asset information, and a download option. The background behind the modal shows two assets named "trivia" and "TriviaAssetGroup."

### Key Elements
- **Modal Window Title**: "trivia"
- **Version Details Section**: Contains a version number highlighted in yellow (`8388721047846104`) and a timestamp (`August 15 at 2:32 PM`).
- **Asset Details Section**: Includes fields such as "Description," "Folder," "Creator," "Last edited," and "Asset ID."
- **Download Button**: Located at the bottom right of the modal.
- **Background**: Blurred view of "My Assets" folder showing two assets with gradient backgrounds and cube icons.

### Visual Flow / Relationships
The most prominent visual element is the modal window itself, which overlays the background. The version details and asset information are arranged vertically within the modal. The download button is positioned at the bottom right, indicating a secondary action. There are no arrows or lines connecting elements, suggesting a linear reading order from top to bottom.

</details>

<p></p>



## Notes

* Spawning a text asset does nothing.
* You cannot use this API to pull the data of a non-text asset. You will receive null data.
* You can only upload .JSONs files.
* Whenever you pull the data object, you are calling into the C# backend from the TS. This is performance intensive and should be done sparingly.
  + You may want to cache the .json object when you create it. The string is already cached when the object is created. If you are using it as a .JSON more than once, we recommend caching it once created.
  + Pull smaller .json files.
  + Pull when refreshing the world and during downtime.

## Performance

* Currently the Max asset file size is 8MB. The C# to TS bridge currently only accepts this much data in a single call, even though the asset library accepts files of up to 25MB.
  + Speed of upload to the Asset Library for a 1.8 MB file is ~5s.
  + Speed of download to TypeScript for a .json file of size 1.85MB in an empty world is ~2s
  + Speed of updates – How fast does it take to get the latest uploaded asset data?
    - It depends on your file size. We’ve seen 1KB files be updated almost immediately, while 5MB files may take up to 5 mins.
  + Do not use the skipCache option unless you are updating the asset while the world instance is live.

## Downloads

[gamedatanew.json](https://scontent-dfw5-2.oculuscdn.com/v/t64.5771-25/39031405_1040126593784425_5457484484185452287_n.json?_nc_cat=107&ccb=1-7&_nc_sid=e280be&_nc_ohc=Iduzqb_0rX0Q7kNvwHFXx_r&_nc_oc=AdknLbUFXFPoBq9Tb0-vRh-c_4qJTtpFOptO_yduwHCNDbxxvlbioNMz-rBMtyUEZqU&_nc_zt=3&_nc_ht=scontent-dfw5-2.oculuscdn.com&oh=00_Afl4aXD9mWUfQ2G7B4jaIth3vuRUL4KdSdYs7StCcPZ2jA&oe=694BBAC7)[trivia.json](https://scontent-dfw5-3.oculuscdn.com/v/t64.5771-25/39031427_790113296532639_7185274403668060489_n.json?_nc_cat=109&ccb=1-7&_nc_sid=e280be&_nc_ohc=PUdzZuIC_bQQ7kNvwF2bByb&_nc_oc=AdlA206TGu8ekJhZosUISMk5Y7opqDexOHHmfAz2TgsRZ3TVM7qBL7jSj4oxhJg4lOM&_nc_zt=3&_nc_ht=scontent-dfw5-3.oculuscdn.com&oh=00_AfmsnJ-l0kDUbCbYS-ijOiUFZQp92sXEeRRmC47xKxMRLg&oe=694BB903)